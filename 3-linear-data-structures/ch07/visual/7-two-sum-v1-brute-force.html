<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Two Sum - Brute Force | Algorithm Visualization</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <style>
        /* ===== UNIFIED LIGHT THEME ===== */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #e4e8ec 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        h1 {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 8px;
            font-size: 1.8em;
        }
        .subtitle {
            text-align: center;
            color: #7f8c8d;
            margin-bottom: 20px;
            font-size: 1em;
        }
        
        /* Problem Info Box */
        .problem-info { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 16px; padding: 25px 30px; margin-bottom: 25px; color: white; }
        .problem-info h1 { font-size: 1.8em; margin-bottom: 10px; }
        .problem-info p { font-size: 1.1em; opacity: 0.95; line-height: 1.6; }
        .problem-info a {
            color: #3498db;
            text-decoration: none;
        }
        .problem-info a:hover {
            text-decoration: underline;
        }
        .problem-info .tag {
            display: inline-block;
            background: #e8f4fc;
            color: #2980b9;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 0.85em;
            margin-right: 5px;
        }

        /* Code Section */
        .code-section { background: white; border-radius: 16px; padding: 25px; margin-bottom: 25px; box-shadow: 0 4px 20px rgba(0,0,0,0.08); }
        .code-header {
            background: #f8f9fa;
            padding: 10px 15px;
            border-bottom: 1px solid #e0e0e0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .code-header h4 {
            color: #2c3e50;
            font-size: 0.95em;
        }
        .code-header .complexity {
            font-size: 0.85em;
            color: #7f8c8d;
        }
        .code-header .complexity .time { color: #e74c3c; }
        .code-header .complexity .space { color: #27ae60; }
        pre {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 15px;
            margin: 0;
            overflow-x: auto;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.9em;
            line-height: 1.5;
        }
        pre .keyword { color: #66d9ef; }
        pre .function { color: #a6e22e; }
        pre .string { color: #e6db74; }
        pre .number { color: #ae81ff; }
        pre .comment { color: #75715e; }

        /* Controls */
        
        .controls label {
            font-size: 0.9em;
            color: #555;
        }
        .controls select, .controls input[type="text"] {
            padding: 8px 12px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 0.9em;
            background-color: #f5f7fa;
        }
        .controls select:focus, .controls input:focus {
            outline: none;
            border-color: #3498db;
        }
        button {
            padding: 8px 20px;
            border: none;
            border-radius: 6px;
            font-size: 0.9em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        .btn-primary {
            background: #3498db;
            color: #fff;
        }
        .btn-primary:hover:not(:disabled) {
            background: #2980b9;
        }
        .btn-success {
            background: #27ae60;
            color: #fff;
        }
        .btn-success:hover:not(:disabled) {
            background: #219a52;
        }
        .btn-warning {
            background: #f39c12;
            color: #fff;
        }
        .btn-warning:hover:not(:disabled) {
            background: #d68910;
        }
        .btn-danger {
            background: #e74c3c;
            color: #fff;
        }
        .btn-danger:hover:not(:disabled) {
            background: #c0392b;
        }

        /* Visualization Area */
        .visualization {
            background-color: #f5f7fa;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            min-height: 300px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        /* Legend */
        .legend {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            margin-bottom: 15px;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 6px;
        }
        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.85em;
        }
        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 4px;
        }

        /* Message/Status */
        .status-box {
            background: #f8f9fa;
            border: 1px solid #e0e0e0;
            border-radius: 6px;
            padding: 15px;
            margin-top: 15px;
            text-align: center;
        }
        .status-box.success {
            background: #d4edda;
            border-color: #c3e6cb;
            color: #155724;
        }
        .status-box.info {
            background: #e8f4fc;
            border-color: #bee5eb;
            color: #0c5460;
        }
        .status-box h4 {
            margin-bottom: 5px;
        }

        /* Approach Navigation */
        .approach-nav {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        .approach-nav a {
            padding: 8px 16px;
            background-color: #f5f7fa;
            border: 1px solid #e0e0e0;
            border-radius: 6px;
            text-decoration: none;
            color: #555;
            font-size: 0.9em;
            transition: all 0.2s;
        }
        .approach-nav a:hover {
            border-color: #3498db;
            color: #3498db;
        }
        .approach-nav a.active {
            background: #3498db;
            border-color: #3498db;
            color: #fff;
        }
            
        .btn { padding: 12px 28px; font-size: 1em; border: none; border-radius: 10px; cursor: pointer; font-weight: 500; transition: opacity 0.3s; }
        .btn:disabled { opacity: 0.5; cursor: not-allowed; }
        .btn-primary { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; }
        .btn-success { background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%); color: white; }
        .btn-warning { background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); color: white; }
        .btn-success.running { background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); }
        .status-message { background: #e8f4fd; border-left: 4px solid #2196f3; padding: 15px 20px; border-radius: 0 10px 10px 0; margin-bottom: 20px; color: #1565c0; }
            .controls { display: flex; gap: 12px; margin-bottom: 20px; flex-wrap: wrap; }
        .btn { padding: 12px 28px; font-size: 1em; border: none; border-radius: 10px; cursor: pointer; font-weight: 500; transition: opacity 0.3s; }
        .btn:disabled { opacity: 0.5; cursor: not-allowed; }
        .btn-primary { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; }
        .btn-success { background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%); color: white; }
        .btn-warning { background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); color: white; }
        .btn-success.running { background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); }
        .status-message { background: #e8f4fd; border-left: 4px solid #2196f3; padding: 15px 20px; border-radius: 0 10px 10px 0; margin-bottom: 20px; color: #1565c0; }
    </style>
</head>
<body>
    <div class="container">
        <h1>üìä Q7. Two Sum</h1>
        <p class="subtitle">Solution 1: Brute Force (Nested Loops)</p>

        <!-- Approach Navigation -->
        <div class="approach-nav">
            <a href="7-two-sum-v1-brute-force.html" class="active">V1: Brute Force</a>
            <a href="7-two-sum-v2-in-search.html">V2: In Search</a>
            <a href="7-two-sum-v3-hash-two-pass.html">V3: Hash (Two-pass)</a>
            <a href="7-two-sum-v4-hash-one-pass.html">V4: Hash (One-pass)</a>
            <a href="7-two-sum-v5-two-pointer.html">V5: Two Pointer</a>
        </div>

        <!-- Problem Info -->
        <div class="problem-info">
            <h3>üìã Problem Description</h3>
            <p><strong>Given:</strong> An array of integers <code>nums</code> and an integer <code>target</code></p>
            <p><strong>Return:</strong> Indices of the two numbers that add up to <code>target</code></p>
            <p><strong>Constraint:</strong> Each input has exactly one solution, and you may not use the same element twice.</p>
            <p style="margin-top: 10px;">
                <span class="tag">Array</span>
                <span class="tag">Hash Table</span>
                <a href="https://leetcode.com/problems/two-sum/" target="_blank" style="margin-left: 10px;">LeetCode #1 ‚Üí</a>
            </p>
        </div>

        <!-- Code Section -->
        <div class="code-section">
            <div class="code-header">
                <h4>üíª Python Solution (7-1.py)</h4>
                <div class="complexity">
                    <span class="time">Time: O(n¬≤)</span> | 
                    <span class="space">Space: O(1)</span>
                </div>
            </div>
            <pre><code><span class="keyword">def</span> <span class="function">twoSum</span>(self, nums: List[int], target: int) -> List[int]:
    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="function">range</span>(<span class="function">len</span>(nums)):
        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="function">range</span>(i + <span class="number">1</span>, <span class="function">len</span>(nums)):
            <span class="keyword">if</span> nums[i] + nums[j] == target:
                <span class="keyword">return</span> [i, j]</code></pre>
        </div>

        <!-- Controls -->
        <div class="controls">
            <label>Example:</label>
            <select id="exampleSelect">
                <option value="2,7,11,15|9">nums=[2,7,11,15], target=9</option>
                <option value="3,2,4|6">nums=[3,2,4], target=6</option>
                <option value="3,3|6">nums=[3,3], target=6</option>
                <option value="1,2,3,4,5,6|11">nums=[1,2,3,4,5,6], target=11</option>
            </select>
            <button class="btn-primary" id="startBtn">‚ñ∂ Start</button>
            <button class="btn-success" id="stepBtn" disabled>Step ‚Üí</button>
            <button class="btn-warning" id="autoBtn" disabled>‚è© Auto Run</button>
            <button class="btn-danger" id="resetBtn">‚Ü∫ Reset</button>
        </div>

        <!-- Visualization -->
        <div class="visualization">
            <div class="legend">
                <div class="legend-item">
                    <div class="legend-color" style="background: #3498db;"></div>
                    <span>Pointer i (outer loop)</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #f39c12;"></div>
                    <span>Pointer j (inner loop)</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #27ae60;"></div>
                    <span>Found pair</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #ecf0f1; border: 1px solid #bdc3c7;"></div>
                    <span>Unchecked</span>
                </div>
            </div>
            <svg id="svg" width="100%" height="350"></svg>
        </div>

        <!-- Status -->
        <div class="status-box" id="statusBox">
            <h4 id="statusTitle">Ready to Start</h4>
            <p id="statusDesc">Click "Start" to begin the visualization. We'll check every pair of numbers.</p>
        </div>
    </div>

    <script>
        // Configuration
        const width = 1100;
        const height = 350;
        
        // State
        let nums = [];
        let target = 0;
        let i = 0, j = 1;
        let found = false;
        let animating = false;
        let autoRunning = false;
        let comparisons = 0;

        const svg = d3.select("#svg")
            .attr("viewBox", `0 0 ${width} ${height}`);

        function parseInput() {
            const val = document.getElementById('exampleSelect').value;
            const [arrStr, tgtStr] = val.split('|');
            nums = arrStr.split(',').map(n => parseInt(n.trim()));
            target = parseInt(tgtStr);
        }

        function draw() {
            svg.selectAll("*").remove();

            const boxWidth = Math.min(80, (width - 100) / nums.length);
            const boxHeight = 60;
            const startX = (width - nums.length * boxWidth) / 2;
            const startY = 80;

            // Title
            svg.append("text")
                .attr("x", width / 2)
                .attr("y", 30)
                .attr("text-anchor", "middle")
                .attr("font-size", "18px")
                .attr("font-weight", "bold")
                .attr("fill", "#2c3e50")
                .text(`Target: ${target} | Comparisons: ${comparisons}`);

            // Array boxes
            nums.forEach((num, idx) => {
                const x = startX + idx * boxWidth;
                
                let fillColor = "#fff";
                let strokeColor = "#bdc3c7";
                let strokeWidth = 2;

                if (found && ((idx === i) || (idx === j))) {
                    fillColor = "#27ae60";
                    strokeColor = "#27ae60";
                } else if (idx === i) {
                    fillColor = "#3498db";
                    strokeColor = "#3498db";
                } else if (idx === j) {
                    fillColor = "#f39c12";
                    strokeColor = "#f39c12";
                }

                // Box
                svg.append("rect")
                    .attr("x", x + 2)
                    .attr("y", startY)
                    .attr("width", boxWidth - 4)
                    .attr("height", boxHeight)
                    .attr("rx", 8)
                    .attr("fill", fillColor)
                    .attr("stroke", strokeColor)
                    .attr("stroke-width", strokeWidth);

                // Value
                svg.append("text")
                    .attr("x", x + boxWidth / 2)
                    .attr("y", startY + boxHeight / 2 + 6)
                    .attr("text-anchor", "middle")
                    .attr("font-size", "20px")
                    .attr("font-weight", "bold")
                    .attr("fill", (found && (idx === i || idx === j)) || idx === i || idx === j ? "#fff" : "#2c3e50")
                    .text(num);

                // Index
                svg.append("text")
                    .attr("x", x + boxWidth / 2)
                    .attr("y", startY + boxHeight + 20)
                    .attr("text-anchor", "middle")
                    .attr("font-size", "12px")
                    .attr("fill", "#7f8c8d")
                    .text(`[${idx}]`);
            });

            // Pointers
            if (animating && !found) {
                // i pointer
                const iX = startX + i * boxWidth + boxWidth / 2;
                svg.append("text")
                    .attr("x", iX)
                    .attr("y", startY - 15)
                    .attr("text-anchor", "middle")
                    .attr("font-size", "14px")
                    .attr("font-weight", "bold")
                    .attr("fill", "#3498db")
                    .text("i");

                // j pointer
                if (j < nums.length) {
                    const jX = startX + j * boxWidth + boxWidth / 2;
                    svg.append("text")
                        .attr("x", jX)
                        .attr("y", startY - 15)
                        .attr("text-anchor", "middle")
                        .attr("font-size", "14px")
                        .attr("font-weight", "bold")
                        .attr("fill", "#f39c12")
                        .text("j");
                }
            }

            // Current comparison display
            if (animating && !found && j < nums.length) {
                const calcY = 220;
                
                svg.append("text")
                    .attr("x", width / 2)
                    .attr("y", calcY)
                    .attr("text-anchor", "middle")
                    .attr("font-size", "16px")
                    .attr("fill", "#2c3e50")
                    .text(`Checking: nums[${i}] + nums[${j}] = ${nums[i]} + ${nums[j]} = ${nums[i] + nums[j]}`);

                const match = nums[i] + nums[j] === target;
                svg.append("text")
                    .attr("x", width / 2)
                    .attr("y", calcY + 30)
                    .attr("text-anchor", "middle")
                    .attr("font-size", "16px")
                    .attr("font-weight", "bold")
                    .attr("fill", match ? "#27ae60" : "#e74c3c")
                    .text(match ? "‚úì Match Found!" : `‚úó ${nums[i] + nums[j]} ‚â† ${target}`);
            }

            // Nested loop visualization
            const loopY = 290;
            svg.append("text")
                .attr("x", 50)
                .attr("y", loopY)
                .attr("font-size", "13px")
                .attr("fill", "#7f8c8d")
                .attr("font-family", "monospace")
                .text(`for i in range(${nums.length}):        # i = ${i}`);
            
            svg.append("text")
                .attr("x", 50)
                .attr("y", loopY + 20)
                .attr("font-size", "13px")
                .attr("fill", "#7f8c8d")
                .attr("font-family", "monospace")
                .text(`    for j in range(i+1, ${nums.length}):  # j = ${j}`);
        }

        function doStep() {
            if (found) return;

            if (j >= nums.length) {
                i++;
                j = i + 1;
            }

            if (i >= nums.length - 1) {
                updateStatus("No Solution", "No pair found that sums to target.", "info");
                animating = false;
                document.getElementById('stepBtn').disabled = true;
                document.getElementById('autoBtn').disabled = true;
                return;
            }

            comparisons++;
            
            if (nums[i] + nums[j] === target) {
                found = true;
                updateStatus("üéâ Solution Found!", `nums[${i}] + nums[${j}] = ${nums[i]} + ${nums[j]} = ${target}\nReturn: [${i}, ${j}]`, "success");
                animating = false;
                autoRunning = false;
                document.getElementById('stepBtn').disabled = true;
                document.getElementById('autoBtn').disabled = true;
                document.getElementById('autoBtn').textContent = "‚è© Auto Run";
            } else {
                j++;
                updateStatus("Checking...", `Comparing all pairs. Current: i=${i}, j=${j-1}`, "info");
            }

            draw();
        }

        function updateStatus(title, desc, type) {
            const box = document.getElementById('statusBox');
            box.className = 'status-box ' + type;
            document.getElementById('statusTitle').textContent = title;
            document.getElementById('statusDesc').innerHTML = desc.replace(/\n/g, '<br>');
        }

        function reset() {
            parseInput();
            i = 0;
            j = 1;
            found = false;
            animating = false;
            autoRunning = false;
            comparisons = 0;

            document.getElementById('startBtn').disabled = false;
            document.getElementById('stepBtn').disabled = true;
            document.getElementById('autoBtn').disabled = true;
            document.getElementById('autoBtn').textContent = "‚è© Auto Run";

            updateStatus("Ready to Start", "Click \"Start\" to begin the visualization. We'll check every pair of numbers.", "");
            draw();
        }

        function start() {
            parseInput();
            i = 0;
            j = 1;
            found = false;
            animating = true;
            comparisons = 0;

            document.getElementById('startBtn').disabled = true;
            document.getElementById('stepBtn').disabled = false;
            document.getElementById('autoBtn').disabled = false;

            updateStatus("Started", "Use 'Step' for manual control or 'Auto Run' to watch automatically.", "info");
            draw();
        }

        function autoRun() {
            if (autoRunning) {
                autoRunning = false;
                document.getElementById('autoBtn').textContent = "‚è© Auto Run";
                return;
            }

            autoRunning = true;
            document.getElementById('autoBtn').textContent = "‚è∏ Pause";

            function runStep() {
                if (!autoRunning || found || i >= nums.length - 1) {
                    autoRunning = false;
                    document.getElementById('autoBtn').textContent = "‚è© Auto Run";
                    return;
                }
                doStep();
                setTimeout(runStep, 600);
            }
            runStep();
        }

        // Event Listeners
        document.getElementById('startBtn').addEventListener('click', start);
        document.getElementById('stepBtn').addEventListener('click', doStep);
        document.getElementById('autoBtn').addEventListener('click', autoRun);
        document.getElementById('resetBtn').addEventListener('click', reset);
        document.getElementById('exampleSelect').addEventListener('change', reset);

        // Initial render
        reset();
    </script>
</body>
</html>
