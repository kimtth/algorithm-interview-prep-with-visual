/* ===== Algorithm Visualization - Unified Styles ===== */

/* Reset and Base */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    min-height: 100vh;
    padding: 20px;
}

/* Container */
.container {
    max-width: 1000px;
    margin: 0 auto;
    background: white;
    border-radius: 20px;
    box-shadow: 0 20px 60px rgba(0,0,0,0.3);
    overflow: hidden;
}

/* Support for files without container class */
body > h1:first-child,
body > .subtitle:first-of-type {
    background: white;
    padding: 20px;
    margin: 0 0 20px 0;
    border-radius: 20px;
    box-shadow: 0 20px 60px rgba(0,0,0,0.3);
}

/* Header */
.header {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    padding: 30px;
    color: white;
}

.header h1 {
    font-size: 1.8em;
    margin-bottom: 10px;
}

.header p {
    opacity: 0.9;
    font-size: 0.95em;
}

h1 {
    text-align: center;
    color: #2c3e50;
    margin-bottom: 8px;
    font-size: 1.8em;
}

.subtitle {
    text-align: center;
    color: #7f8c8d;
    margin-bottom: 20px;
    font-size: 1em;
}

/* Problem Info Box */
.problem-info {
    background: #f8f9fa;
    padding: 20px;
    margin: 20px;
    border-radius: 10px;
    border: 1px solid #eee;
}

.container > .problem-info {
    margin: 0;
    border-radius: 0;
    border-left: 0;
    border-right: 0;
    border-top: 0;
}

.problem-info h3 {
    color: #333;
    margin-bottom: 10px;
}

.problem-info p {
    color: #666;
    line-height: 1.6;
    margin-bottom: 8px;
}

.problem-info p:last-child {
    margin-bottom: 0;
}

.problem-info a {
    color: #3498db;
    text-decoration: none;
}

.problem-info a:hover {
    text-decoration: underline;
}

.problem-info .tag {
    display: inline-block;
    background: #e8f4fc;
    color: #2980b9;
    padding: 2px 8px;
    border-radius: 4px;
    font-size: 0.85em;
    margin-right: 5px;
}

/* Code Section */
.code-section {
    background: #1e1e1e;
    padding: 0;
    margin: 20px;
    border-radius: 10px;
    overflow: hidden;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}
/* Linked List & Array/Deque visuals for Q13 */
.legend,
.pointer-legend {
    display: flex;
    gap: 12px;
    align-items: center;
    flex-wrap: wrap;
    margin: 10px 0 14px;
}
.legend-item {
    display: inline-flex;
    align-items: center;
    gap: 8px;
}
.legend-color,
.legend-box {
    width: 16px;
    height: 16px;
    border-radius: 4px;
    border: 2px solid #999;
}

/* Color utility variants used by legends */
.bg-blue { background: #2196f3; border-color: #2196f3; }
.bg-orange { background: #ff9800; border-color: #ff9800; }
.bg-purple-deep { background: #7b1fa2; border-color: #7b1fa2; }
.bg-green { background: #2ecc71; border-color: #2ecc71; }
.bg-pink-very-light-border-red { background: #ffe6ee; border-color: #e74c3c; }
.bg-orange-light-border-orange { background: #ffe7cc; border-color: #ff9800; }
.bg-blue-light-border-blue { background: #e6f2ff; border-color: #2196f3; }
.bg-blue-light-border-blue-left { background: #e6f2ff; border-color: #2196f3; border-left-width: 4px; }
.bg-orange-light-border-orange-left { background: #ffe7cc; border-color: #ff9800; border-left-width: 4px; }
.bg-blue-light-border-blue-solid { background: #e6f2ff; border-color: #2196f3; }
.bg-pink-very-light { background: #ffe6ee; }
.text-blue { color: #2196f3; }
.text-red { color: #e74c3c; }
.text-green { color: #2ecc71; }
.text-gray { color: #777; }
.text-xl { font-size: 20px; }
.text-2xl { font-size: 24px; }
.font-bold { font-weight: 700; }

/* Q9 Brute Force array display */
.array-display,
#array-view,
.array-container {
    display: flex;
    gap: 8px;
    flex-wrap: wrap;
    align-items: flex-end;
    margin-bottom: 12px;
}
.array-item,
.num-box {
    min-width: 40px;
    padding: 6px 8px;
    border: 2px solid #b0bec5;
    border-radius: 6px;
    background: #ffffff;
    text-align: center;
    position: relative;
}
.array-item .value,
.num-box > span:last-child { font-weight: 600; }
.array-item .index,
.num-box .index {
    position: absolute;
    top: -14px;
    left: 50%;
    transform: translateX(-50%);
    font-size: 11px;
    color: #888;
}
.i-ptr { box-shadow: inset 0 0 0 2px #e74c3c; }
.j-ptr { box-shadow: inset 0 0 0 2px #ff9800; }
.k-ptr { box-shadow: inset 0 0 0 2px #2196f3; }
.fixed { box-shadow: inset 0 0 0 2px #2196f3; }
.match { background: #e8f8f0; border-color: #2ecc71; }
.pointer { position: absolute; bottom: -18px; font-size: 12px; font-weight: 700; }

/* Info and results sections */
.info-section,
.results-display,
.results-box {
    display: flex;
    gap: 12px;
    align-items: stretch;
    flex-wrap: wrap;
    margin: 12px 0;
}
.info-box {
    border: 1px solid #cfd8dc;
    border-radius: 6px;
    padding: 8px 10px;
    min-width: 100px;
    background: #fafafa;
}
.info-label { font-size: 12px; color: #666; }
.info-value { font-weight: 700; font-size: 16px; }
.results-title { font-weight: 700; margin-bottom: 6px; }
.results-list { min-width: 150px; }
.result-item { padding: 4px 6px; border: 1px dashed #cfd8dc; border-radius: 6px; margin-bottom: 4px; font-family: monospace; }

/* Q3 logs visualization */
.step-indicator { font-weight: 700; margin-bottom: 8px; }
.log-container { display: flex; flex-direction: column; gap: 6px; }
.log-item { display: flex; gap: 10px; align-items: center; padding: 6px 8px; border: 1px solid #cfd8dc; border-radius: 6px; }
.log-item.letter-log { background: #f5fbff; border-color: #2196f3; }
.log-item.digit-log { background: #fff8f0; border-color: #ff9800; }
.log-id { font-weight: 700; min-width: 52px; }
.log-content { flex: 1; }
.group-container { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
.group-box { border: 1px solid #e0e0e0; border-radius: 8px; padding: 10px; background: #fff; }
.group-title { font-weight: 700; margin-bottom: 8px; }
.letter-title { color: #2196f3; }
.digit-title { color: #ff9800; }

/* Charts for Q4 */
.chart-container { margin-top: 8px; }
.bar { fill: #90caf9; }
.bar.winner { fill: #2ecc71; }

/* Input group used by Q1 */
.input-group { display: flex; gap: 8px; align-items: center; margin-bottom: 10px; }
.input-group input[type="text"] { flex: 1; padding: 6px 8px; border: 1px solid #cfd8dc; border-radius: 6px; }

/* String visualization (Q1) */
.string-display { padding: 8px; border: 1px solid #e0e0e0; border-radius: 8px; background: #fff; }
.string-label { font-weight: 700; display: block; margin-bottom: 6px; }
.string-row { display: flex; gap: 6px; flex-wrap: wrap; justify-content: center; }
.string-row .char-box { min-width: 28px; padding: 4px 6px; border: 1px solid #cfd8dc; border-radius: 6px; background: #f9fafb; }
.comparison-box { display: flex; flex-direction: column; align-items: center; gap: 8px; padding: 10px; border: 1px dashed #cfd8dc; border-radius: 8px; }
.comparison-row { display: flex; gap: 12px; align-items: center; }
.comparison-arrow { font-weight: 700; }
.result-icon { font-size: 24px; }
.result-icon.success { color: #2ecc71; }
.result-icon.failure { color: #e74c3c; }
.visualization-section {
    margin-top: 20px;
}

.controls {
    display: flex;
    gap: 8px;
    margin-bottom: 12px;
}

.status-message {
    margin: 8px 0 16px;
    color: #555;
}

.array-section {
    margin: 12px 0 18px;
}

.array-label {
    font-weight: 600;
    margin-bottom: 6px;
}

.linked-list-container {
    display: flex;
    align-items: center;
    flex-wrap: wrap;
    gap: 8px;
}

.list-node {
    min-width: 36px;
    height: 36px;
    padding: 6px 8px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    border: 2px solid #4a90e2;
    border-radius: 6px;
    background: #f7fbff;
    color: #1a1a1a;
    font-weight: 600;
}

.list-arrow {
    width: 28px;
    height: 2px;
    background: #999;
    position: relative;
}
.list-arrow::after {
    content: '';
    position: absolute;
    right: -6px;
    top: -4px;
    border-top: 6px solid transparent;
    border-bottom: 6px solid transparent;
    border-left: 6px solid #999;
}

.array-container {
    display: flex;
    align-items: center;
    gap: 8px;
    flex-wrap: wrap;
}

.array-box {
    min-width: 40px;
    height: 40px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    border: 2px solid #7b8fa3;
    border-radius: 6px;
    background: #f9fafb;
    font-weight: 600;
}

.deque-container {
    display: flex;
    align-items: center;
    gap: 12px;
}

.deque-items {
    display: flex;
    align-items: center;
    gap: 8px;
}

.deque-box {
    min-width: 44px;
    height: 44px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    border: 2px solid #7b8fa3;
    border-radius: 6px;
    background: #fffef7;
    font-weight: 600;
}

.deque-label {
    font-size: 12px;
    color: #666;
    text-align: center;
}

/* Pointer highlights and states */
.left-ptr {
    box-shadow: inset 0 0 0 2px #2ecc71, 0 0 8px rgba(46, 204, 113, 0.5);
}
.right-ptr {
    box-shadow: inset 0 0 0 2px #e67e22, 0 0 8px rgba(230, 126, 34, 0.5);
}
.traversed {
    background: #eaf6ff;
    border-color: #2d8cf0;
}
.mismatch {
    background: #ffecec;
    border-color: #e74c3c;
}

.result-display {
    margin-top: 12px;
    padding: 10px 12px;
    border-radius: 6px;
    font-weight: 600;
}
.result-display.success {
    background: #e9f9ef;
    color: #1e7f3b;
    border: 1px solid #1e7f3b;
}
.result-display.failure {
    background: #fff0f0;
    color: #a12020;
    border: 1px solid #a12020;
}

/* Buttons (if not already defined) */
.btn {
    padding: 6px 12px;
    border-radius: 6px;
    border: 1px solid transparent;
    cursor: pointer;
    font-weight: 600;
}
.btn-primary { background: #2d8cf0; color: #fff; }
.btn-success { background: #28a745; color: #fff; }
.btn-warning { background: #ffc107; color: #333; }
.btn:disabled { opacity: 0.6; cursor: not-allowed; }

.code-section h3 {
    color: #9cdcfe;
    margin: 0;
    font-size: 0.9em;
    padding: 15px 20px 10px 20px;
    background: #1e1e1e;
    border-radius: 10px 10px 0 0;
}

.code-section pre {
    color: #d4d4d4;
    font-family: 'Consolas', monospace;
    font-size: 0.85em;
    line-height: 1.5;
    background: #1e1e1e;
    padding: 10px 20px 20px 20px;
    margin: 0;
    border-radius: 0 0 10px 10px;
}

/* Code section with header */
.code-section .code-header {
    background: #f8f9fa;
    padding: 10px 15px;
    border-bottom: 1px solid #e0e0e0;
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin: 0;
}

.code-section .code-header + pre {
    border-radius: 0 0 10px 10px;
}

.code-header {
    background: #f8f9fa;
    padding: 10px 15px;
    border-bottom: 1px solid #e0e0e0;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.code-header h4 {
    color: #2c3e50;
    font-size: 0.95em;
    margin: 0;
}

.code-header .complexity {
    font-size: 0.85em;
    color: #7f8c8d;
}

.code-header .complexity .time {
    color: #e74c3c;
}

.code-header .complexity .space {
    color: #27ae60;
}

pre {
    background: #1e1e1e;
    color: #d4d4d4;
    padding: 15px;
    margin: 0;
    overflow-x: auto;
    font-family: 'Consolas', 'Monaco', monospace;
    font-size: 0.9em;
    line-height: 1.5;
    border-radius: 10px;
}

/* ===== Core Visualization Components (arrays, pointers, charts) ===== */
.chart-container {
    width: 100%;
    min-height: 220px;
    background: #fafafa;
    border: 1px solid #e0e0e0;
    border-radius: 8px;
    margin: 15px 0;
}

.bar {
    fill: #37474f;
}
.bar.current {
    fill: #4caf50;
}
.bar.in-stack {
    fill: #ff9800;
}
.water {
    fill: #2196f3;
    opacity: 0.6;
}

/* Array display (Reverse String visuals) */
.array-display {
    position: relative;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-wrap: wrap;
    gap: 4px;
    margin: 20px 0;
    min-height: 70px;
    padding: 10px;
}

/* When char-box has inline left style, use absolute positioning */
.char-box {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 48px;
    height: 48px;
    font-size: 1.2em;
    font-weight: 500;
    background: #f5f7fa;
    border: 2px solid #667eea;
    border-radius: 8px;
    transition: all 0.3s ease, left 0.5s ease;
}

/* Support absolute positioning for animated visualizations */
.char-box[style*="left"] {
    position: absolute;
}

.char-box.highlight,
.char-box.highlight-left {
    background: #ffd54f;
    border-color: #ffb300;
    box-shadow: 0 0 0 3px rgba(255, 213, 79, 0.4);
}
.char-box.highlight-right {
    background: #81d4fa;
    border-color: #29b6f6;
    box-shadow: 0 0 0 3px rgba(129, 212, 250, 0.4);
}
.char-box.swapped,
.char-box.reversed {
    background: #a5d6a7;
    border-color: #66bb6a;
}

.pointer-container {
    position: relative;
    display: flex;
    justify-content: center;
    min-height: 30px;
    margin-top: 10px;
}
.pointer {
    position: absolute;
    font-size: 12px;
    font-weight: 500;
    padding: 2px 6px;
    border-radius: 4px;
    white-space: nowrap;
}
.pointer-left,
.pointer.pointer-left { 
    color: #e65100;
    background: #fff3e0;
}
.pointer-right,
.pointer.pointer-right { 
    color: #0277bd;
    background: #e1f5fe;
}

/* Step walkthrough (Pythonic reverse) */
.step-container {
    margin: 10px 0;
    padding: 10px;
    background: #f9f9fb;
    border: 1px solid #e0e0e0;
    border-radius: 8px;
}
.step-label {
    display: inline-block;
    margin-bottom: 8px;
    font-weight: 600;
    color: #333;
}
.array-row {
    display: flex;
    justify-content: center;
    gap: 6px;
}
.method-call {
    text-align: center;
    font-family: 'Consolas', monospace;
    color: #2c3e50;
    margin-top: 8px;
}
.arrow {
    text-align: center;
    font-size: 20px;
    color: #9e9e9e;
}

pre code {
    background: transparent;
    color: inherit;
    padding: 0;
}

/* Code Syntax Highlighting */
.keyword {
    color: #569cd6;
}

.function {
    color: #dcdcaa;
}

.comment {
    color: #6a9955;
}

.number {
    color: #b5cea8;
}

.string {
    color: #e6db74;
}

pre .keyword {
    color: #66d9ef;
}

pre .function {
    color: #a6e22e;
}

pre .string {
    color: #e6db74;
}

pre .number {
    color: #ae81ff;
}

pre .comment {
    color: #75715e;
}

/* Controls */
.controls {
    padding: 20px;
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
    justify-content: center;
    background: #f8f9fa;
}

.controls label {
    font-size: 0.9em;
    color: #555;
}

.controls select,
.controls input[type="text"] {
    padding: 8px 12px;
    border: 1px solid #ddd;
    border-radius: 6px;
    font-size: 0.9em;
    background-color: #f5f7fa;
}

.controls select:focus,
.controls input:focus {
    outline: none;
    border-color: #3498db;
}

/* Buttons */
button,
.btn {
    padding: 12px 24px;
    font-size: 1em;
    cursor: pointer;
    border: none;
    border-radius: 8px;
    transition: all 0.3s;
    font-weight: 600;
}

button:disabled,
.btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

.btn-primary {
    background: linear-gradient(135deg, #667eea, #764ba2);
    color: white;
}

.btn-primary:hover:not(:disabled) {
    background: #2980b9;
}

.btn-success {
    background: linear-gradient(135deg, #11998e, #38ef7d);
    color: white;
}

.btn-success:hover:not(:disabled) {
    background: #219a52;
}

.btn-success.running {
    background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
}

.btn-warning {
    background: linear-gradient(135deg, #f093fb, #f5576c);
    color: white;
}

.btn-warning:hover:not(:disabled) {
    background: #d68910;
}

.btn-danger {
    background: #e74c3c;
    color: white;
}

.btn-danger:hover:not(:disabled) {
    background: #c0392b;
}

/* Visualization Area */
.visualization {
    background-color: #f5f7fa;
    border: 1px solid #e0e0e0;
    border-radius: 8px;
    padding: 20px;
    margin: 20px;
    margin-bottom: 20px;
    min-height: 300px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.05);
}

.visualization svg {
    display: block;
    margin: 0 auto;
}

/* Visualization containers (ID selectors) */
#visualization,
#viz,
#chart-area {
    min-height: 100px;
    padding: 15px;
    margin: 15px 0;
}

/* Status Messages */
.status {
    padding: 15px 20px;
    margin: 20px;
    background: #e8f5e9;
    text-align: center;
    font-weight: 500;
    color: #2e7d32;
    border-radius: 6px;
}

.container > .status {
    margin: 0;
    border-radius: 0;
}

.step-info {
    background: #fff3e0;
    padding: 15px 20px;
    margin: 20px;
    text-align: center;
    color: #ef6c00;
    font-weight: 500;
    border-radius: 6px;
}

.container > .step-info {
    margin: 0;
    border-radius: 0;
}

.status-message {
    background: #e8f4fd;
    border-left: 4px solid #2196f3;
    padding: 15px 20px;
    border-radius: 0 10px 10px 0;
    margin: 20px;
    margin-bottom: 20px;
    color: #1565c0;
}

.status-box {
    background: #f8f9fa;
    border: 1px solid #e0e0e0;
    border-radius: 6px;
    padding: 15px;
    margin: 20px;
    margin-top: 15px;
    text-align: center;
}

.status-box h4 {
    margin-bottom: 5px;
}

.status-box.success {
    background: #d4edda;
    border-color: #c3e6cb;
    color: #155724;
}

.status-box.info {
    background: #e8f4fc;
    border-color: #bee5eb;
    color: #0c5460;
}

/* Array Display */
.array-display {
    display: flex;
    justify-content: center;
    gap: 8px;
    flex-wrap: wrap;
    margin: 20px 0;
}

.array-item {
    width: 60px;
    height: 60px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    border-radius: 10px;
    font-weight: bold;
    transition: all 0.3s;
}

.array-item .value {
    font-size: 1.3em;
}

.array-item .index {
    font-size: 0.7em;
    color: #999;
}

.array-item.default {
    background: #e0e0e0;
}

.array-item.current {
    background: #2196f3;
    color: white;
    transform: scale(1.1);
}

.array-item.in-subarray {
    background: #4caf50;
    color: white;
}

.array-item.best {
    background: #ff9800;
    color: white;
}

/* Metrics */
.metrics {
    display: flex;
    justify-content: center;
    gap: 40px;
    margin: 20px 0;
    flex-wrap: wrap;
}

.metric {
    text-align: center;
    padding: 15px 25px;
    border-radius: 10px;
    background: #f5f5f5;
    min-width: 150px;
}

.metric-label {
    font-size: 0.9em;
    color: #666;
    margin-bottom: 5px;
}

.metric-value {
    font-size: 1.8em;
    font-weight: bold;
}

.metric-value.positive {
    color: #4caf50;
}

.metric-value.negative {
    color: #f44336;
}

/* Decision Box */
.decision-box {
    background: #e3f2fd;
    padding: 15px;
    border-radius: 10px;
    margin: 20px 0;
    text-align: center;
}

/* Result Display */
.result-display {
    text-align: center;
    margin: 20px 0;
    padding: 20px;
    background: #f5f5f5;
    border-radius: 10px;
    font-size: 1.5em;
}

/* Legend */
.legend {
    display: flex;
    gap: 20px;
    flex-wrap: wrap;
    margin-bottom: 15px;
    padding: 10px;
    background: #f8f9fa;
    border-radius: 6px;
}

.legend-item {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 0.85em;
}

.legend-color {
    width: 20px;
    height: 20px;
    border-radius: 4px;
}

/* Approach Navigation */
.approach-nav {
    display: flex;
    gap: 10px;
    margin: 20px;
    margin-bottom: 20px;
    flex-wrap: wrap;
    padding: 10px;
    background: white;
}

.approach-nav a {
    padding: 8px 16px;
    background-color: #f5f7fa;
    border: 1px solid #e0e0e0;
    border-radius: 6px;
    text-decoration: none;
    color: #555;
    font-size: 0.9em;
    transition: all 0.2s;
}

.approach-nav a:hover {
    border-color: #3498db;
    color: #3498db;
}

.approach-nav a.active {
    background: #3498db;
    border-color: #3498db;
    color: #fff;
}

/* Additional Utility Styles */
code {
    background: #f8f9fa;
    padding: 2px 6px;
    border-radius: 3px;
    font-family: 'Consolas', 'Monaco', monospace;
    font-size: 0.9em;
    color: #e83e8c;
}

strong {
    font-weight: 600;
}

/* Problem Meta Tags */
.problem-meta {
    margin-top: 15px;
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
}

.meta-tag {
    background: #e8f4fc;
    color: #2980b9;
    padding: 4px 12px;
    border-radius: 6px;
    font-size: 0.85em;
    font-weight: 500;
}

/* Code Block (alternative to code-section) */
.code-block {
    background: #1e1e1e;
    border-radius: 8px;
    overflow: hidden;
}

.code-block pre {
    margin: 0;
    padding: 20px;
}

/* Visualization Section */
.visualization-section {
    padding: 20px;
    background: #f8f9fa;
}

.container > .visualization-section {
    padding: 20px;
    background: #f8f9fa;
}

.visualization-section h3 {
    color: #333;
    margin-bottom: 15px;
    font-size: 1.1em;
}

/* Linked List Visualization */
.list-section {
    margin: 20px 0;
    padding: 20px;
    background: white;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.05);
}

.list-label {
    font-weight: 600;
    color: #555;
    margin-bottom: 15px;
    font-size: 0.95em;
}

.list-container {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    flex-wrap: wrap;
    min-height: 80px;
}

.list-node {
    position: relative;
    width: 60px;
    height: 60px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: #e0e0e0;
    border: 2px solid #bbb;
    border-radius: 8px;
    font-weight: bold;
    font-size: 1.2em;
    transition: all 0.3s;
}

.list-node.current {
    background: #2196f3;
    color: white;
    border-color: #1976d2;
    transform: scale(1.1);
}

.list-node.next {
    background: #ff9800;
    color: white;
    border-color: #f57c00;
}

.list-node.swapped {
    background: #4caf50;
    color: white;
    border-color: #388e3c;
}

.list-node.dummy {
    background: #f5f5f5;
    border: 2px dashed #999;
    color: #999;
}

.list-node.prev {
    background: #9c27b0;
    color: white;
    border-color: #7b1fa2;
}

.list-node.head {
    background: #2196f3;
    color: white;
    border-color: #1976d2;
}

.list-node.b {
    background: #ff5722;
    color: white;
    border-color: #d84315;
}

.list-node.p {
    background: #ff9800;
    color: white;
    border-color: #f57c00;
}

.list-arrow {
    font-size: 1.5em;
    color: #666;
}

.list-arrow::before {
    content: 'â†’';
}

.node-label {
    position: absolute;
    top: -20px;
    left: 50%;
    transform: translateX(-50%);
    font-size: 0.7em;
    font-weight: 600;
    padding: 2px 6px;
    border-radius: 3px;
    white-space: nowrap;
}

.node-label.prev {
    background: #9c27b0;
    color: white;
}

.node-label.head {
    background: #2196f3;
    color: white;
}

.node-label.b {
    background: #ff5722;
    color: white;
}

.node-label.p {
    background: #ff9800;
    color: white;
}

/* Swap Indicator */
.swap-indicator {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 20px;
    margin: 20px 0;
    padding: 20px;
    background: #fff3e0;
    border-radius: 8px;
}

.swap-box {
    width: 60px;
    height: 60px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 8px;
    font-weight: bold;
    font-size: 1.3em;
    border: 2px solid;
}

.swap-box.a {
    background: #e3f2fd;
    border-color: #2196f3;
    color: #1565c0;
}

.swap-box.b {
    background: #fff3e0;
    border-color: #ff9800;
    color: #e65100;
}

.swap-arrow {
    font-size: 2em;
    color: #666;
    font-weight: bold;
}

/* Pointer Display */
.pointer-display {
    display: flex;
    justify-content: center;
    gap: 15px;
    margin: 20px 0;
    flex-wrap: wrap;
}

.pointer-box {
    padding: 10px 15px;
    border-radius: 8px;
    text-align: center;
    min-width: 100px;
}

.pointer-box.prev {
    background: #e1bee7;
    border: 2px solid #9c27b0;
}

.pointer-box.head {
    background: #bbdefb;
    border: 2px solid #2196f3;
}

.pointer-box.b {
    background: #ffccbc;
    border: 2px solid #ff5722;
}

.pointer-label {
    font-size: 0.8em;
    color: #666;
    font-weight: 600;
    margin-bottom: 5px;
}

.pointer-value {
    font-size: 1.2em;
    font-weight: bold;
    color: #333;
}

/* Call Stack Visualization */
.call-stack {
    margin: 20px 0;
    padding: 15px;
    background: white;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.05);
}

.call-stack-title {
    font-weight: 600;
    color: #333;
    margin-bottom: 10px;
    font-size: 1em;
}

.call-frame {
    padding: 10px 15px;
    margin: 5px 0;
    background: #f5f5f5;
    border-left: 4px solid #ccc;
    border-radius: 4px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 10px;
    transition: all 0.3s;
}

.call-frame.active {
    background: #e3f2fd;
    border-left-color: #2196f3;
}

.call-frame.returning {
    background: #fff3e0;
    border-left-color: #ff9800;
}

.frame-depth {
    font-size: 0.8em;
    color: #666;
    font-weight: 600;
}

.frame-params {
    flex: 1;
    font-family: 'Consolas', monospace;
    font-size: 0.9em;
}

.frame-status {
    font-size: 0.8em;
    color: #999;
    font-style: italic;
}

/* ===== Utility Classes for Inline Styles ===== */

/* Display utilities */
.d-none {
    display: none;
}

.visibility-hidden {
    visibility: hidden;
}

/* Color backgrounds - specific to legend colors */
.bg-dark-gray { background: #37474f; }
.bg-blue { background: #2196f3; }
.bg-blue-light { background: #81d4fa; }
.bg-blue-very-light { background: #e3f2fd; }
.bg-cyan { background: #3498db; }
.bg-purple { background: #9b59b6; }
.bg-purple-deep { background: #9c27b0; }
.bg-purple-trie { background: #667eea; }
.bg-pink { background: #e91e63; }
.bg-pink-light { background: #ef9a9a; }
.bg-pink-very-light { background: #ffebee; }
.bg-green { background: #4caf50; }
.bg-green-light { background: #81c784; }
.bg-green-pale { background: #a5d6a7; }
.bg-green-very-light { background: #e8f5e9; }
.bg-lime { background: #27ae60; }
.bg-orange { background: #ff9800; }
.bg-orange-deep { background: #f39c12; }
.bg-orange-light { background: #fff3e0; }
.bg-red { background: #f44336; }
.bg-red-soft { background: #e74c3c; }
.bg-red-light { background: #e57373; }
.bg-yellow { background: #ffd54f; }
.bg-gray { background: #9e9e9e; }
.bg-gray-light { background: #bdbdbd; }
.bg-gray-lighter { background: #e0e0e0; }
.bg-gray-very-light { background: #ecf0f1; }
.bg-white-blue { background: #f5f7fa; }

/* Backgrounds with opacity */
.bg-blue-transparent { background: rgba(33, 150, 243, 0.2); }
.bg-green-transparent { background: rgba(76, 175, 80, 0.3); }
.bg-blue-semi { background: #2196f3; opacity: 0.6; }

/* Border utilities */
.border-blue { border-color: #2196f3; }
.border-blue-solid { border: 1px solid #2196f3; }
.border-blue-dashed { border: 2px dashed #2196f3; }
.border-blue-thick { border: 2px solid #2196f3; }
.border-blue-left { border-left: 4px solid #2196f3; }
.border-green { border-color: #4caf50; }
.border-green-thick { border: 2px solid #4caf50; }
.border-green-dark { border-color: #2e7d32; }
.border-green-darker { border-color: #388e3c; }
.border-orange { border-color: #ff9800; }
.border-orange-left { border-left: 4px solid #ff9800; }
.border-orange-deep { border-color: #f57c00; }
.border-purple { border-color: #667eea; }
.border-purple-thick { border: 2px solid #667eea; }
.border-purple-dark { border-color: #764ba2; }
.border-red { border-color: #f44336; }
.border-gray { border: 1px solid #bdc3c7; }
.border-gray-dark { border-color: #9e9e9e; }

/* Combined background + border for common patterns */
.bg-blue-light-border-blue { background: #e3f2fd; border-color: #2196f3; }
.bg-blue-light-border-blue-left { background: #e3f2fd; border-left: 4px solid #2196f3; }
.bg-blue-light-border-blue-solid { background: #e3f2fd; border: 1px solid #2196f3; }
.bg-blue-light-border-blue-dashed { background: #e3f2fd; border: 2px dashed #2196f3; }
.bg-blue-transparent-border-blue { background: rgba(33, 150, 243, 0.2); border: 2px solid #2196f3; }
.bg-green-transparent-border-green { background: rgba(76, 175, 80, 0.3); border: 2px solid #4caf50; }
.bg-orange-light-border-orange { background: #fff3e0; border-color: #ff9800; }
.bg-orange-light-border-orange-left { background: #fff3e0; border-left: 4px solid #ff9800; }
.bg-green-very-light-border-green { background: #e8f5e9; border-color: #4caf50; }
.bg-pink-very-light-border-red { background: #ffebee; border-color: #f44336; }
.bg-gray-very-light-border-gray { background: #ecf0f1; border: 1px solid #bdc3c7; }
.bg-gray-light-border-gray { background: #bdbdbd; border-color: #9e9e9e; }
.bg-green-border-green-dark { background: #4caf50; border-color: #388e3c; }
.bg-white-blue-border-purple { background: #f5f7fa; border-color: #667eea; }
.bg-white-blue-border-purple-thick { background: #f5f7fa; border: 2px solid #667eea; }
.bg-green-border-green-darker { background: #4caf50; border-color: #2e7d32; }
.bg-orange-border-orange-deep { background: #ff9800; border-color: #f57c00; }
.bg-purple-trie-border-purple-dark { background: #667eea; border-color: #764ba2; }

/* Triangle pointers (for legend items) */
.triangle-pointer {
    width: 0;
    height: 0;
    border-left: 8px solid transparent;
    border-right: 8px solid transparent;
}

.triangle-orange {
    border-bottom: 10px solid #ff9800;
}

.triangle-purple {
    border-bottom: 10px solid #9c27b0;
}

.triangle-red {
    border-bottom: 10px solid #f44336;
}

/* Text color utilities */
.text-blue { color: #2196f3; }
.text-green { color: #4caf50; }
.text-red { color: #f44336; }
.text-purple { color: #9c27b0; }
.text-gray { color: #999; }
.text-gray-dark { color: #666; }
.text-gray-darker { color: #555; }
.text-dark { color: #333; }

/* Font size utilities */
.text-sm { font-size: 0.8em; }
.text-md { font-size: 0.9em; }
.text-lg { font-size: 1.2em; }
.text-xl { font-size: 1.3em; }
.text-2xl { font-size: 2em; }
.text-24 { font-size: 24px; }

/* Font weight */
.font-bold { font-weight: bold; }

/* Margin utilities */
.m-0 { margin: 0; }
.mt-0 { margin-top: 0; }
.mt-5 { margin-top: 5px; }
.mt-8 { margin-top: 8px; }
.mt-10 { margin-top: 10px; }
.mt-15 { margin-top: 15px; }
.mb-10 { margin-bottom: 10px; }
.mb-15 { margin-bottom: 15px; }
.mb-20 { margin-bottom: 20px; }
.ml-10 { margin-left: 10px; }
.ml-auto { margin-left: auto; }
.mx-10 { margin: 10px 0; }
.mx-15 { margin: 15px 0; }
.my-special { margin: 20px 0 10px; }

/* Padding utilities */
.p-10 { padding: 10px; }
.p-15 { padding: 15px; }

/* Text alignment */
.text-center { text-align: center; }

/* Combined text utilities */
.text-center-gray { text-align: center; color: #333; }
.text-gray-sm { color: #999; padding: 15px; }
.empty-text { color: #999; text-align: center; }

/* Position utilities */
.pos-relative { position: relative; }
.left-neg-10 { left: -10px; }

/* Width/Height utilities */
.w-20 { width: 20px; }
.h-80 { height: 80px; }

/* Opacity */
.opacity-0 { opacity: 0; }
.opacity-60 { opacity: 0.6; }

/* Border radius */
.rounded { border-radius: 4px; }

/* Special note box */
.note-box-orange {
    margin-top: 15px;
    padding: 10px;
    background: #fff3e0;
    border-radius: 4px;
}

/* ===== Extended Visualization Components ===== */

/* Main content and layout */
.main-content { padding: 20px; }
.main-section { margin: 15px 0; }
.main-grid { display: grid; gap: 15px; }
.split-view { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
.full-width { width: 100%; }

/* Advantage/Warning boxes */
.advantage { background: #e8f5e9; padding: 12px; border-radius: 6px; border-left: 4px solid #4caf50; margin: 10px 0; }
.warning, .warning-box { background: #fff3e0; padding: 12px; border-radius: 6px; border-left: 4px solid #ff9800; margin: 10px 0; color: #e65100; }
.note-box { background: #e3f2fd; padding: 12px; border-radius: 6px; border-left: 4px solid #2196f3; margin: 10px 0; }
.insight { background: #f3e5f5; padding: 12px; border-radius: 6px; border-left: 4px solid #9c27b0; margin: 10px 0; }

/* Complexity display */
.complexity { display: flex; gap: 15px; font-size: 0.9em; color: #666; margin-top: 10px; }
.complexity-note { font-size: 0.85em; color: #888; margin-top: 5px; }

/* Phase indicators */
.phase { padding: 8px 16px; border: 1px solid #e0e0e0; border-radius: 6px; background: #f5f5f5; }
.phase.active { background: #2196f3; color: white; border-color: #2196f3; }
.phase-indicator { display: flex; gap: 10px; margin: 10px 0; }
.phase-item { padding: 6px 12px; border-radius: 4px; background: #f0f0f0; }
.phase-box { padding: 10px; border: 1px solid #e0e0e0; border-radius: 6px; margin: 5px 0; }
.phase-title { font-weight: 600; margin-bottom: 8px; }
.phase-arrow { color: #999; font-size: 1.2em; }

/* Calc and formula displays */
.calc-display { font-family: 'Consolas', monospace; padding: 10px; background: #f5f5f5; border-radius: 6px; text-align: center; margin: 10px 0; }
.calculation-display { font-family: 'Consolas', monospace; padding: 12px; background: #fafafa; border: 1px solid #e0e0e0; border-radius: 6px; }
.formula { font-family: 'Consolas', monospace; padding: 8px 12px; background: #f8f9fa; border-radius: 4px; }
.formula-box { padding: 10px; background: #f5f5f5; border-radius: 6px; font-family: 'Consolas', monospace; }
.expression, .expression-display { font-family: 'Consolas', monospace; padding: 8px; background: #f0f0f0; border-radius: 4px; }

/* Additional display types */
.answer-display { padding: 15px; background: #e8f5e9; border: 2px solid #4caf50; border-radius: 8px; text-align: center; font-weight: 600; }
.bool-display { font-family: 'Consolas', monospace; padding: 6px 12px; border-radius: 4px; }
.count-display, .count-label, .count-value { font-family: 'Consolas', monospace; }
.data-display { padding: 10px; background: #f5f5f5; border-radius: 6px; }
.data-section { margin: 10px 0; }
.data-title { font-weight: 600; margin-bottom: 8px; }

/* Array and index displays */
.array-view { display: flex; gap: 6px; flex-wrap: wrap; justify-content: center; }
.array-index { font-size: 0.75em; color: #888; text-align: center; }
.array-title { font-weight: 600; margin-bottom: 8px; color: #555; }
.array-row { display: flex; gap: 4px; justify-content: center; align-items: flex-end; }
.array-bar, [class*="array-bar"] { min-width: 30px; background: #667eea; border-radius: 4px 4px 0 0; }
.arrays-section { margin: 15px 0; }
.index-label { font-size: 0.75em; color: #888; }

/* Input displays */
.input-display { padding: 10px; background: #f5f7fa; border: 1px solid #e0e0e0; border-radius: 6px; }
.input-section { margin: 10px 0; }
.input-chars { display: flex; gap: 4px; justify-content: center; }
.input-array { display: flex; gap: 6px; flex-wrap: wrap; }
.input-value { font-family: 'Consolas', monospace; font-weight: 500; }
.input-box { padding: 8px 12px; border: 1px solid #ccc; border-radius: 6px; }
.input-label { font-size: 0.85em; color: #666; margin-bottom: 4px; }

/* Hashmap and dict displays */
.hashmap-display { padding: 10px; background: #fff8e1; border: 1px solid #ffe082; border-radius: 6px; margin: 10px 0; }
.hashmap-entries { display: flex; flex-direction: column; gap: 4px; }
.hashmap-title { font-weight: 600; margin-bottom: 8px; color: #f57c00; }
.hash-table { display: grid; gap: 4px; }
.dict-section { margin: 10px 0; padding: 10px; background: #fafafa; border-radius: 6px; }
.dict-items { display: flex; flex-direction: column; gap: 4px; }
.dict-key { font-weight: 600; color: #333; }
.dict-value { font-family: 'Consolas', monospace; }

/* Counter displays */
.counter, .counter-box { padding: 10px; background: #e8f5e9; border: 1px solid #a5d6a7; border-radius: 6px; }
.counter-display { display: flex; gap: 8px; flex-wrap: wrap; }
.counter-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(60px, 1fr)); gap: 6px; }
.counter-table { display: flex; flex-direction: column; gap: 4px; }
.counter-section { margin: 10px 0; }
.counter-char, .counter-key { font-weight: 600; }
.counter-count, .counter-value { font-family: 'Consolas', monospace; }
.counter-label { font-size: 0.85em; color: #666; }
.counter-code { font-family: 'Consolas', monospace; font-size: 0.9em; }

/* Frequency displays */
.freq-display, .freq-container { padding: 10px; background: #f5f5f5; border-radius: 6px; }
.freq-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(50px, 1fr)); gap: 6px; }
.freq-item { text-align: center; padding: 6px; background: #fff; border: 1px solid #e0e0e0; border-radius: 4px; }
.freq-bar { height: 8px; background: #667eea; border-radius: 4px; }
.freq-fill { background: #4caf50; }
.freq-label { font-size: 0.8em; color: #666; }
.freq-num, .freq-count { font-weight: 600; }
.common-num, .common-freq { font-weight: 600; }

/* Slice and window displays */
.slice-display { padding: 10px; background: #e3f2fd; border: 1px solid #90caf9; border-radius: 6px; margin: 10px 0; }
.slice-items { display: flex; gap: 4px; }
.slice-label { font-size: 0.85em; color: #1976d2; margin-bottom: 6px; }
.window-size { font-family: 'Consolas', monospace; padding: 4px 8px; background: #e8f5e9; border-radius: 4px; }

/* Pointer displays */
.pointer-item { display: flex; align-items: center; gap: 6px; }
.pointers-info { display: flex; gap: 15px; margin: 10px 0; }
.blue-ptr { color: #2196f3; }
.red-ptr { color: #f44336; }
.white-ptr { color: #9e9e9e; }
.pivot-ptr { color: #9c27b0; }
.ptr { font-weight: 600; }

/* Stack displays */
.stack { display: flex; flex-direction: column; gap: 4px; }
.stack-container, .stacks-container { display: flex; gap: 15px; }
.stack-box { padding: 10px; border: 1px solid #e0e0e0; border-radius: 6px; min-width: 100px; }
.stack-frames { display: flex; flex-direction: column; gap: 4px; }
.stack-item, [class*="stack-item"] { padding: 6px 10px; background: #f5f5f5; border: 1px solid #e0e0e0; border-radius: 4px; }
.stack-empty { color: #999; font-style: italic; padding: 10px; text-align: center; }
.stack-label { font-size: 0.85em; color: #666; }
.stacks-section { margin: 10px 0; }

/* Queue displays */
.queue-container { display: flex; align-items: center; gap: 10px; }
.queue-section { margin: 10px 0; }
.queue-item, [class*="queue-item"] { padding: 8px 12px; background: #e3f2fd; border: 1px solid #90caf9; border-radius: 4px; }
.queue-empty { color: #999; font-style: italic; }
.queue-label, .queue-title { font-weight: 600; margin-bottom: 8px; }
.queue-arrow { color: #999; }
.queue-slot { min-width: 40px; height: 40px; border: 1px dashed #ccc; border-radius: 4px; display: flex; align-items: center; justify-content: center; }
.queue-end-label { font-size: 0.8em; color: #666; }
.front, .rear { font-size: 0.75em; color: #666; }

/* Heap displays */
.heap-container, .heap-visual { min-height: 150px; padding: 15px; }
.heap-section { margin: 10px 0; }
.heap-items { display: flex; gap: 6px; flex-wrap: wrap; }
.heap-label { font-weight: 600; margin-bottom: 8px; }

/* Graph displays */
.graph-container, .graph-box { min-height: 200px; background: #fafafa; border: 1px solid #e0e0e0; border-radius: 8px; padding: 15px; }
.graph-section { margin: 10px 0; }
.graph-title { font-weight: 600; margin-bottom: 10px; }

/* Tree displays */
.tree-box { min-height: 150px; padding: 15px; background: #fafafa; border-radius: 8px; }
.tree-section { margin: 10px 0; }
.tree-label { font-weight: 600; margin-bottom: 8px; }
.trees-container { display: flex; gap: 20px; }

/* Trie displays */
.trie-container { min-height: 200px; padding: 15px; }

/* Matrix displays */
.matrix, .matrix-container { display: flex; flex-direction: column; gap: 2px; }
.matrix-row { display: flex; gap: 2px; }
.matrix-cell { width: 36px; height: 36px; display: flex; align-items: center; justify-content: center; border: 1px solid #ccc; background: #fff; font-size: 0.9em; }
.matrix-section { margin: 10px 0; }

/* Grid displays */
.grid, .grid-container { display: grid; gap: 4px; }

/* DP displays */
.dp-table { display: flex; gap: 4px; flex-wrap: wrap; }
.dp-item { min-width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; border: 1px solid #ccc; border-radius: 4px; background: #fff; }
.dp-idx { font-size: 0.7em; color: #888; }
.dp-val { font-weight: 600; }

/* Memo displays */
.memo-display, .memo-table { display: flex; flex-direction: column; gap: 4px; padding: 10px; background: #f5f5f5; border-radius: 6px; }
.memo-item { display: flex; gap: 8px; align-items: center; }
.memo-key { font-weight: 600; }
.memo-value { font-family: 'Consolas', monospace; }

/* Binary displays */
.binary-display { display: flex; gap: 2px; justify-content: center; }
.binary-value { font-family: 'Consolas', monospace; font-weight: 600; }
.bit-display { display: flex; gap: 2px; }
.bit-section, .bit-row { display: flex; gap: 2px; align-items: center; }
.bit-label { font-size: 0.8em; color: #666; margin-right: 8px; }
.bit-0, .bit-1, [class*="bit-"] { width: 24px; height: 24px; display: flex; align-items: center; justify-content: center; border: 1px solid #ccc; border-radius: 3px; font-family: 'Consolas', monospace; }
.bit-0 { background: #f5f5f5; }
.bit-1, [class*="bit-"].active { background: #4caf50; color: white; }

/* Byte displays */
.bytes-container { display: flex; gap: 10px; flex-wrap: wrap; }
.byte-item { padding: 8px; border: 1px solid #e0e0e0; border-radius: 6px; background: #fff; }
.byte-binary { font-family: 'Consolas', monospace; }
.byte-decimal { font-weight: 600; }
.byte-type { font-size: 0.8em; color: #666; }

/* XOR displays */
.xor-display { padding: 10px; background: #f5f5f5; border-radius: 6px; text-align: center; }
.xor-formula { font-family: 'Consolas', monospace; }
.xor-result { font-weight: 700; color: #4caf50; }
.and-result { font-weight: 700; color: #2196f3; }

/* Addition displays */
.addition-display { display: flex; flex-direction: column; gap: 4px; align-items: center; }
.addition-formula { font-family: 'Consolas', monospace; }

/* Carry displays */
.carry-display { display: flex; gap: 4px; justify-content: center; }
.carry-label { font-size: 0.8em; color: #888; }
.carry-value { font-weight: 600; color: #f44336; }

/* Sum displays */
.sum-display { padding: 10px; background: #e8f5e9; border-radius: 6px; text-align: center; }
.sum-formula { font-family: 'Consolas', monospace; }
.sum-result { font-weight: 700; color: #2e7d32; }

/* Product displays */
.product-display { padding: 10px; background: #fff3e0; border-radius: 6px; }

/* Pair displays */
.pair-display { display: flex; gap: 8px; align-items: center; }
.pair-plus { color: #666; }
.pair-result { font-weight: 600; }
.pair-word { padding: 4px 8px; background: #e3f2fd; border-radius: 4px; }
.pairs-container { display: flex; gap: 10px; flex-wrap: wrap; }

/* Compare and equals */
.compare-result { font-weight: 600; padding: 4px 8px; border-radius: 4px; }
.equals-sign { font-size: 1.2em; color: #666; }

/* Word and string displays */
.word-item { padding: 4px 8px; background: #f5f5f5; border: 1px solid #e0e0e0; border-radius: 4px; }
.word-tag { display: inline-block; padding: 2px 6px; background: #e8f4fc; border-radius: 3px; font-size: 0.85em; }
.words-container, .words-list { display: flex; gap: 6px; flex-wrap: wrap; }
.words-section { margin: 10px 0; }
.words-title { font-weight: 600; margin-bottom: 8px; }
.string-box { padding: 10px; background: #f5f5f5; border: 1px solid #e0e0e0; border-radius: 6px; }
.string-container { display: flex; gap: 4px; justify-content: center; }
.string-chars { display: flex; gap: 2px; }
.strings-row { display: flex; gap: 10px; }
.sorted-string { font-family: 'Consolas', monospace; color: #4caf50; }

/* Letter displays */
.letter { display: inline-flex; align-items: center; justify-content: center; width: 32px; height: 32px; border: 1px solid #ccc; border-radius: 4px; font-weight: 500; }
.digit-letters { display: flex; gap: 4px; }
.digit-num { font-weight: 600; }

/* Phone displays */
.phone-display { padding: 10px; background: #f5f5f5; border-radius: 6px; }

/* Target displays */
.target-char { padding: 4px 8px; background: #fff3e0; border: 1px solid #ffb74d; border-radius: 4px; font-weight: 600; }

/* Interval displays */
.interval-item { display: flex; gap: 4px; padding: 6px 10px; background: #f5f5f5; border-radius: 4px; }
.intervals-list { display: flex; flex-direction: column; gap: 6px; }

/* Merged displays */
.merged { background: #e8f5e9; border-color: #4caf50; }
.merged-item { padding: 6px 10px; background: #e8f5e9; border: 1px solid #4caf50; border-radius: 4px; }
.merged-list { display: flex; flex-direction: column; gap: 6px; }

/* Path displays */
.path, .path-display { padding: 10px; background: #e3f2fd; border-radius: 6px; }
.path-item { padding: 4px 8px; background: #fff; border: 1px solid #90caf9; border-radius: 4px; }
.path-items { display: flex; gap: 6px; }
.path-label { font-size: 0.85em; color: #1976d2; }
.path-value { font-family: 'Consolas', monospace; }
.current-path { background: #4caf50; color: white; }

/* Route displays */
.route-section { margin: 10px 0; }
.route-items { display: flex; gap: 6px; }
.route-label { font-weight: 600; margin-bottom: 6px; }

/* Traversal displays */
.traversal-section { margin: 10px 0; }
.traversal-items { display: flex; gap: 6px; }
.traversal-title { font-weight: 600; margin-bottom: 8px; }

/* Set displays */
.set-box { padding: 10px; background: #f3e5f5; border: 1px solid #ce93d8; border-radius: 6px; }
.set-items { display: flex; gap: 6px; flex-wrap: wrap; }
.set-title { font-weight: 600; color: #7b1fa2; margin-bottom: 8px; }
.sets-section { margin: 10px 0; }

/* Used items displays */
.used-section { margin: 10px 0; }
.used-items { display: flex; gap: 6px; flex-wrap: wrap; }
.used-label { font-weight: 600; margin-bottom: 6px; }

/* Leaves displays */
.leaves-section { margin: 10px 0; }
.leaves-items { display: flex; gap: 6px; }
.leaves-item { padding: 6px 10px; background: #e8f5e9; border: 1px solid #a5d6a7; border-radius: 4px; }
.leaves-title { font-weight: 600; margin-bottom: 8px; }

/* Node displays */
.node, .node-box { width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; border: 2px solid #667eea; border-radius: 50%; background: #f5f7fa; font-weight: 600; }
.result-nodes { display: flex; gap: 8px; }

/* Bucket displays */
.bucket-index { font-size: 0.75em; color: #888; }

/* Cell displays */
.cell-index { font-size: 0.7em; color: #888; }
.cell-value { font-weight: 600; }

/* Slot displays */
.slot, [class*="slot-"] { min-width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; border: 1px dashed #ccc; border-radius: 4px; }

/* Task displays */
.tasks-input { display: flex; gap: 6px; flex-wrap: wrap; }
.task-badge, [class*="task-"] { padding: 4px 8px; background: #e3f2fd; border-radius: 4px; }

/* Station displays */
.stations-container { display: flex; gap: 10px; }
.station-id { font-weight: 600; }
.station-info { font-size: 0.85em; color: #666; }

/* Person/People displays */
.people-container { display: flex; gap: 15px; flex-wrap: wrap; }
.person-icon { font-size: 1.5em; }
.person-info { font-size: 0.9em; }

/* House displays */
.houses-container, .houses-row { display: flex; gap: 10px; }
.house-icon { font-size: 1.5em; }
.house-value { font-weight: 600; text-align: center; }

/* Stair displays */
.stairs-container { display: flex; gap: 4px; align-items: flex-end; }
.stair { background: #667eea; border-radius: 4px 4px 0 0; display: flex; flex-direction: column; align-items: center; justify-content: flex-end; padding-bottom: 4px; }
.stair-num { font-weight: 600; color: white; }
.stair-label { font-size: 0.75em; color: rgba(255,255,255,0.8); }
.stair-ways { font-size: 0.8em; color: #4caf50; }

/* Way displays */
.ways-container { display: flex; gap: 10px; flex-wrap: wrap; }
.way-card { padding: 10px; background: #fff; border: 1px solid #e0e0e0; border-radius: 6px; }
.way-expr { font-family: 'Consolas', monospace; }
.way-result { font-weight: 600; color: #4caf50; }

/* Profit displays */
.profit, .profit-display { padding: 10px; background: #e8f5e9; border-radius: 6px; }
.profit-item { display: flex; gap: 8px; align-items: center; }
.profit-label { font-size: 0.85em; color: #666; }
.profit-value { font-weight: 600; color: #2e7d32; }
.buy { color: #f44336; }
.sell { color: #4caf50; }

/* Day displays */
.day-label { font-size: 0.75em; color: #888; }

/* Decision displays */
.decision { padding: 10px; background: #fff3e0; border-radius: 6px; }
.decision-label { font-size: 0.85em; color: #666; }
.decision-value { font-weight: 600; }
.decision-rob { color: #f44336; }
.decision-skip { color: #4caf50; }

/* Popped displays */
.popped-section { margin: 10px 0; }
.popped-items { display: flex; gap: 6px; }
.popped-item { padding: 6px 10px; background: #ffebee; border: 1px solid #ef9a9a; border-radius: 4px; opacity: 0.7; }
.popped-title { font-weight: 600; margin-bottom: 6px; }

/* Added item */
.added { background: #e8f5e9; border-color: #4caf50; }

/* Recursion displays */
.recursion-stack { display: flex; flex-direction: column; gap: 4px; }
.recursion-depth { font-size: 0.8em; color: #666; }

/* Fib displays */
.fib-display { padding: 10px; background: #f5f5f5; border-radius: 6px; text-align: center; }

/* Stones displays */
.stones-display { display: flex; gap: 6px; }

/* Dist displays */
.dist-section { margin: 10px 0; }
.dist-items { display: flex; gap: 6px; }
.dist-item { padding: 6px 10px; background: #f5f5f5; border-radius: 4px; }
.dist-title { font-weight: 600; margin-bottom: 8px; }

/* Bisect displays */
.bisect-info { padding: 10px; background: #e3f2fd; border-radius: 6px; }
.bisect-result { font-weight: 600; color: #1976d2; }

/* Mapping displays */
.mapping-table { display: flex; flex-direction: column; gap: 4px; }
.mapping-item { display: flex; gap: 8px; align-items: center; padding: 4px 8px; background: #f5f5f5; border-radius: 4px; }

/* Prereq displays */
.prereq-display { padding: 10px; background: #f5f5f5; border-radius: 6px; }
.prereq-title { font-weight: 600; margin-bottom: 8px; }

/* Itertools displays */
.itertools-box { padding: 10px; background: #f3e5f5; border-radius: 6px; }
.itertools-code { font-family: 'Consolas', monospace; }
.itertools-label { font-size: 0.85em; color: #7b1fa2; }

/* Colors container */
.colors-container { display: flex; gap: 6px; }
.color-dot { width: 20px; height: 20px; border-radius: 50%; }

/* Timeline */
.timeline { display: flex; gap: 4px; align-items: center; }

/* Table displays */
.table-section { margin: 10px 0; }
.table-label { font-weight: 600; margin-bottom: 8px; }

/* Serial displays */
.serial-section { margin: 10px 0; }
.serial-output { font-family: 'Consolas', monospace; }
.serial-title { font-weight: 600; margin-bottom: 8px; }

/* Module */
.module { padding: 8px 12px; background: #e8f4fc; border-radius: 4px; }

/* Constants */
.constants { font-family: 'Consolas', monospace; color: #9c27b0; }

/* Operation displays */
.operation, .operation-box { padding: 8px; background: #f5f5f5; border-radius: 4px; }
.op-label { font-size: 0.85em; color: #666; }
.op-sequence { display: flex; gap: 4px; }

/* Optimization box */
.optimization-box { padding: 12px; background: #e8f5e9; border: 1px solid #a5d6a7; border-radius: 6px; }

/* Logic box */
.logic-box { padding: 10px; background: #f5f5f5; border-radius: 6px; font-family: 'Consolas', monospace; }

/* Iteration displays */
.iteration-box { padding: 10px; background: #f5f5f5; border-radius: 6px; }
.iteration-item { padding: 6px; background: #fff; border: 1px solid #e0e0e0; border-radius: 4px; margin: 4px 0; }

/* Step displays */
.step-box { padding: 10px; background: #f5f5f5; border: 1px solid #e0e0e0; border-radius: 6px; margin: 5px 0; }
.step-section { margin: 10px 0; }
.step-title { font-weight: 600; margin-bottom: 8px; }
.step-content { padding: 8px; }

/* List displays */
.list-item { padding: 6px 10px; background: #f5f5f5; border: 1px solid #e0e0e0; border-radius: 4px; }
.lists-section { margin: 10px 0; }
.python-list { font-family: 'Consolas', monospace; }

/* Items displays */
.items, .items-row { display: flex; gap: 6px; flex-wrap: wrap; }
.elements { display: flex; gap: 6px; }

/* Divider */
.divider { height: 1px; background: #e0e0e0; margin: 15px 0; }

/* Bracket */
.bracket { font-size: 1.5em; color: #666; }

/* Label and val */
.label { font-weight: 600; color: #555; }
.val { font-family: 'Consolas', monospace; }

/* Misc state indicators */
.visited { background: #e8f5e9; border-color: #4caf50; }
.traced { background: #fff3e0; border-color: #ff9800; }
.filled { background: #667eea; color: white; }
.skipped { opacity: 0.5; text-decoration: line-through; }
.l1 { border-color: #2196f3; }
.l2 { border-color: #ff9800; }
.src, .dst { font-weight: 600; }
.start, .end { font-weight: 600; }
.left, .right, .mid { font-weight: 600; }
.min { color: #4caf50; }
.min-selected { background: #e8f5e9; border-color: #4caf50; }
.odd { background: #fff3e0; }
.even { background: #e3f2fd; }
.even-head { border-color: #ff9800; }
.total { font-weight: 700; }
.stops { font-family: 'Consolas', monospace; }
.insert-marker { color: #4caf50; font-weight: 600; }
.blue { color: #2196f3; }
.red { color: #f44336; }
.white { color: #9e9e9e; }

/* Frame displays */
.frame-details { font-size: 0.9em; }
.frame-header { font-weight: 600; }
.frame-input { font-family: 'Consolas', monospace; }

/* Tab displays */
.tabs { display: flex; gap: 4px; margin-bottom: 10px; }
.tab { padding: 8px 16px; border: 1px solid #e0e0e0; border-radius: 6px 6px 0 0; cursor: pointer; background: #f5f5f5; }
.tab.active { background: #fff; border-bottom-color: #fff; }

/* Rule displays */
.rules-grid { display: grid; gap: 8px; }
.rule-item { padding: 8px; background: #f5f5f5; border-radius: 4px; }
.rule-pattern { font-family: 'Consolas', monospace; font-weight: 600; }
.rule-desc { font-size: 0.9em; color: #666; }

/* Row header */
.row-header { font-weight: 600; min-width: 80px; }

/* Transfer arrow */
.transfer-arrow { color: #999; font-size: 1.2em; }

/* Stats displays */
.stats, .stats-display { display: flex; gap: 15px; flex-wrap: wrap; }
.stat-box { padding: 10px; background: #f5f5f5; border-radius: 6px; text-align: center; }
.stat-item { display: flex; flex-direction: column; align-items: center; }

/* State displays */
.state-display { padding: 10px; background: #f5f5f5; border-radius: 6px; }
.state-item { padding: 6px; background: #fff; border: 1px solid #e0e0e0; border-radius: 4px; }
.state-items { display: flex; gap: 6px; flex-wrap: wrap; }
.state-value { font-family: 'Consolas', monospace; }

/* Params displays */
.params-display { display: flex; gap: 15px; flex-wrap: wrap; }
.param-box { padding: 8px 12px; background: #f5f5f5; border-radius: 6px; }
.param-item { display: flex; gap: 6px; align-items: center; }

/* Result displays */
.result-container, .results-container { padding: 10px; background: #f5f5f5; border-radius: 6px; }
.result-section { margin: 10px 0; }
.result-items { display: flex; gap: 6px; flex-wrap: wrap; }
.result-code { font-family: 'Consolas', monospace; }
.result-pair { display: flex; gap: 8px; align-items: center; }
.result-pending { opacity: 0.5; }

/* Info displays */
.info-container { padding: 10px; background: #f5f5f5; border-radius: 6px; }
.info-display { padding: 10px; background: #e3f2fd; border-radius: 6px; }
.info-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(120px, 1fr)); gap: 10px; }
.info-row { display: flex; gap: 10px; align-items: center; }

/* Vars displays */
.vars-box, .vars-display { display: flex; gap: 8px; flex-wrap: wrap; padding: 10px; background: #f5f5f5; border-radius: 6px; }

/* Temp display */
.temp-display { padding: 8px; background: #fff3e0; border-radius: 4px; font-family: 'Consolas', monospace; }

/* Most common display */
.most-common-display { padding: 10px; background: #e8f5e9; border-radius: 6px; }
.most-common-items { display: flex; gap: 8px; flex-wrap: wrap; }

/* Deque displays */
.deque-item { padding: 6px 10px; background: #e3f2fd; border: 1px solid #90caf9; border-radius: 4px; }

/* Highlight states for text */
.code-highlight { background: #fff59d; }
.code-explanation { font-size: 0.9em; color: #666; margin-top: 8px; }

/* Legend variants */
.legend-fast { color: #4caf50; }
.legend-slow { color: #ff9800; }
.legend-rev { color: #9c27b0; }

/* Numbers container */
.numbers-container { display: flex; gap: 6px; flex-wrap: wrap; }

/* Decimal display */
.decimal { font-family: 'Consolas', monospace; }

/* Final missing classes */
.btn-info { background: #17a2b8; color: #fff; }
.class-name { color: #4ec9b0; }
.comparison-area { padding: 15px; background: #f5f5f5; border-radius: 8px; margin: 10px 0; }
.depth-label { font-size: 0.8em; color: #666; }
.vs { font-weight: 700; color: #999; padding: 0 8px; }

/* Responsive Design */
@media (max-width: 768px) {
    body {
        padding: 10px;
    }

    .header h1,
    h1 {
        font-size: 1.5em;
    }

    .controls {
        flex-direction: column;
        align-items: stretch;
    }

    button,
    .btn {
        width: 100%;
    }

    .metrics {
        gap: 15px;
    }

    .metric {
        min-width: 120px;
        padding: 10px 15px;
    }

    .array-item {
        width: 50px;
        height: 50px;
    }

    .array-item .value {
        font-size: 1.1em;
    }
    
    .split-view {
        grid-template-columns: 1fr;
    }
    
    .group-container {
        grid-template-columns: 1fr;
    }
}

/* ===== Additional Visualization Components ===== */

/* Panel components */
.panel {
    background: #fff;
    border: 1px solid #e0e0e0;
    border-radius: 8px;
    padding: 15px;
    margin: 10px 0;
}

.panel-title {
    font-weight: 600;
    color: #333;
    margin-bottom: 10px;
    font-size: 0.95em;
}

/* Legend circle (for graph/tree visualizations) */
.legend-circle {
    width: 16px;
    height: 16px;
    border-radius: 50%;
    display: inline-block;
    margin-right: 6px;
}

.legend-box {
    width: 16px;
    height: 16px;
    border: 2px solid #667eea;
    border-radius: 4px;
    display: inline-block;
    margin-right: 6px;
}

/* Info components */
.info-label {
    font-weight: 600;
    color: #555;
    font-size: 0.85em;
    margin-bottom: 4px;
}

.info-value {
    color: #333;
    font-family: 'Consolas', monospace;
    font-size: 0.95em;
}

.info-item {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 6px 0;
}

.info-panel {
    background: #f8f9fa;
    border: 1px solid #e0e0e0;
    border-radius: 8px;
    padding: 12px;
    margin: 10px 0;
}

/* Array components */
.array-container {
    display: flex;
    justify-content: center;
    align-items: flex-end;
    gap: 4px;
    padding: 15px;
    min-height: 80px;
}

.array-label {
    font-size: 0.85em;
    color: #666;
    text-align: center;
    margin-bottom: 5px;
}

.array-section {
    margin: 10px 0;
    padding: 10px;
    background: #fafafa;
    border-radius: 8px;
}

/* Tree container - base definition, extended at end of file */
/* See "SVG Tree/Graph Visualization" section for full styling */

/* Highlight state */
.highlight {
    background: #ffd54f !important;
    border-color: #ffb300 !important;
}

/* Result components */
.result-box {
    background: #e8f5e9;
    border: 1px solid #a5d6a7;
    border-radius: 8px;
    padding: 15px;
    margin: 10px 0;
    text-align: center;
}

.result-value {
    font-size: 1.5em;
    font-weight: bold;
    color: #2e7d32;
}

.result-label {
    font-size: 0.85em;
    color: #666;
    margin-bottom: 5px;
}

/* Step components */
.step-item {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 8px 12px;
    background: #f5f5f5;
    border-radius: 6px;
    margin: 5px 0;
}

/* Stack components */
.stack-section {
    background: #f8f9fa;
    border: 1px solid #e0e0e0;
    border-radius: 8px;
    padding: 12px;
    margin: 10px 0;
}

.stack-title {
    font-weight: 600;
    color: #555;
    font-size: 0.9em;
    margin-bottom: 8px;
}

.stack-items {
    display: flex;
    flex-direction: column;
    gap: 4px;
}

/* Queue components */
.queue-items {
    display: flex;
    gap: 4px;
    padding: 8px;
    background: #fafafa;
    border-radius: 6px;
    overflow-x: auto;
}

/* Code box */
.code-box {
    background: #1e1e1e;
    color: #d4d4d4;
    font-family: 'Consolas', monospace;
    font-size: 0.85em;
    padding: 10px;
    border-radius: 6px;
    overflow-x: auto;
}

/* Binary/bit components */
.binary-row {
    display: flex;
    justify-content: center;
    gap: 2px;
    margin: 10px 0;
}

.binary-label {
    font-size: 0.8em;
    color: #666;
    margin-right: 10px;
}

.bit {
    width: 28px;
    height: 28px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: 'Consolas', monospace;
    font-weight: bold;
    border: 1px solid #ccc;
    border-radius: 4px;
    background: #fff;
}

.bits-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
}

/* Stat components */
.stat-label {
    font-size: 0.8em;
    color: #666;
}

.stat-value {
    font-weight: bold;
    color: #333;
    font-family: 'Consolas', monospace;
}

/* Index display */
.idx {
    font-size: 0.7em;
    color: #999;
    text-align: center;
}

/* Section components */
.section {
    margin: 15px 0;
    padding: 15px;
    background: #fafafa;
    border-radius: 8px;
}

.section-title {
    font-weight: 600;
    color: #333;
    margin-bottom: 10px;
    font-size: 0.95em;
}

/* Results components */
.results-section {
    margin: 15px 0;
}

.results-label {
    font-weight: 600;
    color: #555;
    font-size: 0.9em;
    margin-bottom: 8px;
}

.results-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
    gap: 8px;
}

/* Variable display */
.var-item {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 4px 10px;
    background: #e3f2fd;
    border-radius: 4px;
    font-family: 'Consolas', monospace;
    font-size: 0.9em;
    margin: 2px;
}

/* Input group */
.input-group {
    display: flex;
    align-items: center;
    gap: 10px;
    margin: 10px 0;
}

.input-group label {
    font-weight: 500;
    color: #555;
}

.input-group input {
    padding: 8px 12px;
    border: 1px solid #ccc;
    border-radius: 6px;
    font-size: 0.95em;
}

.input-group input:focus {
    outline: none;
    border-color: #667eea;
    box-shadow: 0 0 0 2px rgba(102, 126, 234, 0.2);
}

/* Parameter display */
.param-label {
    font-size: 0.85em;
    color: #666;
}

.param-value {
    font-family: 'Consolas', monospace;
    font-weight: 500;
    color: #333;
}

/* State box */
.state-box {
    background: #fff;
    border: 1px solid #e0e0e0;
    border-radius: 6px;
    padding: 10px;
    margin: 5px 0;
}

.state-label {
    font-size: 0.8em;
    color: #888;
    margin-bottom: 4px;
}

/* Target display */
.target-display {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 6px 12px;
    background: #fff3e0;
    border: 1px solid #ffb74d;
    border-radius: 6px;
    font-family: 'Consolas', monospace;
}

/* ===== Base Button Styling (for buttons without .btn class) ===== */
button {
    padding: 8px 16px;
    border-radius: 6px;
    border: 1px solid #ccc;
    background: linear-gradient(to bottom, #f8f9fa, #e9ecef);
    cursor: pointer;
    font-weight: 600;
    font-size: 14px;
    transition: all 0.2s ease;
}

button:hover {
    background: linear-gradient(to bottom, #e9ecef, #dee2e6);
    border-color: #adb5bd;
}

button:active {
    background: #dee2e6;
    transform: translateY(1px);
}

button:disabled {
    opacity: 0.6;
    cursor: not-allowed;
}

button#stepBtn {
    background: linear-gradient(to bottom, #4dabf7, #339af0);
    border-color: #228be6;
    color: white;
}

button#stepBtn:hover {
    background: linear-gradient(to bottom, #339af0, #228be6);
}

button#autoBtn {
    background: linear-gradient(to bottom, #69db7c, #51cf66);
    border-color: #40c057;
    color: white;
}

button#autoBtn:hover {
    background: linear-gradient(to bottom, #51cf66, #40c057);
}

button#resetBtn {
    background: linear-gradient(to bottom, #ffd43b, #fab005);
    border-color: #f59f00;
    color: #333;
}

button#resetBtn:hover {
    background: linear-gradient(to bottom, #fab005, #f59f00);
}

/* ===== Dynamic/State Classes for JS-Generated Elements ===== */

/* Generic item styling */
.item {
    display: inline-flex;
    flex-direction: column;
    align-items: center;
    min-width: 50px;
    padding: 8px;
    border: 2px solid #b0bec5;
    border-radius: 8px;
    background: #f8f9fa;
    transition: all 0.3s ease;
}

.item .value {
    font-weight: 700;
    font-size: 18px;
}

.item .ptr {
    font-size: 11px;
    color: #666;
    margin-bottom: 4px;
}

/* State variations */
.item.default { background: #f8f9fa; border-color: #b0bec5; }
.item.current { background: #fff3e0; border-color: #ff9800; box-shadow: 0 0 8px rgba(255, 152, 0, 0.4); }
.item.current-child { background: #e3f2fd; border-color: #2196f3; box-shadow: 0 0 8px rgba(33, 150, 243, 0.4); }
.item.current-cookie { background: #fff8e1; border-color: #ffc107; box-shadow: 0 0 8px rgba(255, 193, 7, 0.4); }
.item.satisfied { background: #e8f5e9; border-color: #4caf50; }
.item.used { background: #e0e0e0; border-color: #9e9e9e; opacity: 0.7; }
.item.success { background: #c8e6c9; border-color: #43a047; }
.item.failure { background: #ffcdd2; border-color: #e53935; }
.item.active { background: #bbdefb; border-color: #1976d2; }
.item.selected { background: #e1bee7; border-color: #8e24aa; }
.item.processing { background: #fff9c4; border-color: #fbc02d; }

/* Value element inside items */
.value {
    font-weight: 600;
}

/* Pointer indicator */
.ptr {
    font-size: 11px;
    color: #555;
    font-weight: 600;
}

/* Task scheduler specific */
.task-badge {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    min-width: 32px;
    height: 32px;
    border-radius: 50%;
    font-weight: 700;
    margin: 2px;
}

.tasks-input {
    display: flex;
    gap: 6px;
    flex-wrap: wrap;
    padding: 10px;
    background: #f8f9fa;
    border-radius: 8px;
    margin-bottom: 10px;
}

/* Task color variations (A-Z) */
.task-A, .slot-A { background: #bbdefb; color: #1565c0; border: 2px solid #1565c0; }
.task-B, .slot-B { background: #c8e6c9; color: #2e7d32; border: 2px solid #2e7d32; }
.task-C, .slot-C { background: #ffe0b2; color: #ef6c00; border: 2px solid #ef6c00; }
.task-D, .slot-D { background: #e1bee7; color: #7b1fa2; border: 2px solid #7b1fa2; }
.task-E, .slot-E { background: #f8bbd0; color: #c2185b; border: 2px solid #c2185b; }
.task-F, .slot-F { background: #b2dfdb; color: #00695c; border: 2px solid #00695c; }
.task-G, .slot-G { background: #d7ccc8; color: #5d4037; border: 2px solid #5d4037; }
.task-H, .slot-H { background: #cfd8dc; color: #455a64; border: 2px solid #455a64; }

/* Idle slot for task scheduler */
.slot-idle {
    background: #f5f5f5;
    color: #9e9e9e;
    border: 2px dashed #bdbdbd;
}

/* Frequency display */
.freq-container {
    display: flex;
    gap: 12px;
    justify-content: center;
    padding: 10px;
}

.freq-item {
    display: flex;
    flex-direction: column;
    align-items: center;
}

.freq-bar {
    width: 40px;
    background: #e0e0e0;
    border-radius: 4px 4px 0 0;
    overflow: hidden;
    display: flex;
    align-items: flex-end;
}

.freq-fill {
    width: 100%;
    background: linear-gradient(to top, #42a5f5, #90caf9);
    border-radius: 4px 4px 0 0;
}

.freq-label {
    margin-top: 4px;
    font-size: 12px;
    font-weight: 600;
}

/* Timeline display */
.timeline {
    display: flex;
    gap: 4px;
    flex-wrap: wrap;
    padding: 12px;
    background: #fafafa;
    border-radius: 8px;
    min-height: 50px;
    align-items: center;
}

.slot {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    min-width: 36px;
    height: 36px;
    border-radius: 6px;
    font-weight: 700;
    font-size: 14px;
}

/* Generic state classes (often used dynamically) */
.current {
    background: #fff3e0 !important;
    border-color: #ff9800 !important;
    box-shadow: 0 0 8px rgba(255, 152, 0, 0.4);
}

.active {
    background: #e3f2fd !important;
    border-color: #2196f3 !important;
}

.success {
    background: #e8f5e9 !important;
    border-color: #4caf50 !important;
}

.failure {
    background: #ffebee !important;
    border-color: #f44336 !important;
}

.complete {
    background: #c8e6c9 !important;
    border-color: #43a047 !important;
}

.processing {
    background: #fff9c4 !important;
    border-color: #fbc02d !important;
}

.left-updated {
    background: #e3f2fd !important;
    border-color: #2196f3 !important;
}

.right-updated {
    background: #fce4ec !important;
    border-color: #e91e63 !important;
}

.buy-day {
    background: #e8f5e9 !important;
    border-color: #4caf50 !important;
}

.sell-day {
    background: #ffebee !important;
    border-color: #f44336 !important;
}

.best {
    background: #fff59d !important;
    border-color: #fbc02d !important;
    font-weight: 700;
}

.checked {
    background: #e0e0e0 !important;
}

.running {
    background: #ffab40 !important;
    border-color: #ff9100 !important;
}

/* Bit display variations */
[class*="bit-"] {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    min-width: 28px;
    height: 28px;
    border-radius: 4px;
    font-family: 'Consolas', monospace;
    font-weight: 600;
}

/* Positive/negative styling */
.positive {
    color: #2e7d32;
}

.positive::before {
    content: '+';
}

/* Graph box */
.graph-box {
    border: 1px solid #e0e0e0;
    border-radius: 8px;
    padding: 15px;
    background: #fff;
}

/* Row items display */
.items-row {
    display: flex;
    gap: 8px;
    flex-wrap: wrap;
    align-items: center;
}

/* Queue title styling */
.queue-title {
    font-weight: 600;
    margin-bottom: 8px;
    color: #555;
}

/* Words list */
.words-list {
    display: flex;
    gap: 8px;
    flex-wrap: wrap;
    padding: 10px;
    background: #f5f5f5;
    border-radius: 8px;
}

/* Head pointer display */
.head {
    border-color: #9c27b0 !important;
    box-shadow: 0 0 6px rgba(156, 39, 176, 0.4);
}

/* Traversed state for nodes */
.traversed {
    background: #dcedc8 !important;
    border-color: #7cb342 !important;
}

/* End marker */
.end {
    background: #ffcdd2 !important;
    border-color: #e53935 !important;
}

/* Start marker */
.start {
    background: #c8e6c9 !important;
    border-color: #43a047 !important;
}

/* Mid marker */
.mid {
    background: #fff9c4 !important;
    border-color: #fbc02d !important;
}

/* Previous pointer */
.prev {
    background: #e1bee7 !important;
    border-color: #8e24aa !important;
}

/* Next pointer */
.next {
    background: #b2ebf2 !important;
    border-color: #00acc1 !important;
}

/* Heap visual container */
.heap-visual {
    padding: 15px;
    background: #fafafa;
    border-radius: 8px;
    text-align: center;
}

/* Expression display */
.expression-display {
    font-family: 'Consolas', monospace;
    font-size: 16px;
    padding: 10px;
    background: #f5f5f5;
    border-radius: 6px;
    text-align: center;
}

/* Node box for tree/graph nodes */
.node-box {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    min-width: 40px;
    height: 40px;
    border-radius: 50%;
    border: 2px solid #b0bec5;
    background: #fff;
    font-weight: 600;
}

/* Path display */
.path-display {
    font-family: 'Consolas', monospace;
    padding: 8px 12px;
    background: #e8f5e9;
    border-radius: 6px;
    border: 1px solid #a5d6a7;
}

/* Count label and value */
.count-label {
    font-size: 12px;
    color: #666;
    margin-right: 4px;
}

.count-value {
    font-weight: 700;
    font-size: 16px;
}

/* Counter key styling */
.counter-key {
    font-weight: 600;
    min-width: 30px;
    text-align: center;
}

.counter-value {
    font-family: 'Consolas', monospace;
}

/* Counter box */
.counter-box {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 6px 10px;
    border: 1px solid #e0e0e0;
    border-radius: 6px;
    background: #fafafa;
}

/* Profit display */
.profit-display {
    display: flex;
    gap: 10px;
    align-items: center;
    padding: 10px;
    background: #e8f5e9;
    border-radius: 8px;
}

/* Operation box */
.operation-box {
    padding: 8px 12px;
    border: 1px solid #e0e0e0;
    border-radius: 6px;
    background: #fafafa;
    font-family: 'Consolas', monospace;
}

/* Warning box styling */
.warning-box {
    background: #fff3e0;
    border: 1px solid #ffb74d;
    border-radius: 8px;
    padding: 12px;
    color: #e65100;
}

/* Memo table display */
.memo-table {
    display: flex;
    gap: 8px;
    flex-wrap: wrap;
    padding: 10px;
    background: #f5f5f5;
    border-radius: 8px;
}

/* Matrix container */
.matrix-container {
    display: inline-block;
    padding: 10px;
    background: #fafafa;
    border-radius: 8px;
}

/* ===== SVG Tree/Graph Visualization ===== */

/* Tree container with proper overflow handling */
.tree-container {
    min-height: 200px;
    max-width: 100%;
    overflow-x: auto;
    overflow-y: visible;
    display: flex;
    justify-content: center;
    align-items: flex-start;
    padding: 20px 10px;
    background: #fafafa;
    border-radius: 8px;
}

.tree-container svg {
    max-width: 100%;
    height: auto;
    display: block;
}

/* D3 tree links (edges) */
.link {
    fill: none;
    stroke: #999;
    stroke-width: 2px;
    stroke-opacity: 0.6;
}

/* D3 tree nodes */
.node circle {
    fill: #fff;
    stroke: #4a90e2;
    stroke-width: 3px;
    transition: all 0.3s ease;
}

.node text {
    font-size: 14px;
    font-weight: 600;
    fill: #333;
}

.node.computed circle {
    fill: #4caf50;
    stroke: #2e7d32;
}

.node.computed text {
    fill: #fff;
}

.node.current circle {
    fill: #fff3e0;
    stroke: #ff9800;
    stroke-width: 4px;
}

.node.processing circle {
    fill: #e3f2fd;
    stroke: #2196f3;
    animation: pulse 1s infinite;
}

@keyframes pulse {
    0%, 100% { stroke-width: 3px; }
    50% { stroke-width: 5px; }
}

/* Visualization container */
.visualization {
    padding: 20px;
    background: #fff;
    border-radius: 8px;
    margin: 15px 0;
    overflow-x: auto;
}

.visualization svg {
    display: block;
    max-width: 100%;
    margin: 0 auto;
}

/* Step info display */
.step-info {
    background: #e8f5e9;
    border: 1px solid #a5d6a7;
    border-radius: 8px;
    padding: 12px 16px;
    margin: 15px 0;
    font-weight: 500;
    color: #2e7d32;
}

/* ===== Array State Classes (for divide & conquer) ===== */

.array-item.default {
    background: #f8f9fa;
    border-color: #b0bec5;
}

.array-item.majority {
    background: #c8e6c9;
    border-color: #43a047;
    font-weight: 700;
    box-shadow: 0 0 8px rgba(76, 175, 80, 0.4);
}

.array-item.left-half {
    background: #bbdefb;
    border-color: #1976d2;
}

.array-item.right-half {
    background: #ffe0b2;
    border-color: #f57c00;
}

.array-item.current-range {
    background: #fff9c4;
    border-color: #fbc02d;
}

/* Result display for larger problems */
.result-display {
    text-align: center;
    padding: 15px;
    margin-top: 15px;
    font-size: 1.2em;
    font-weight: 600;
}

.result-display .text-green {
    color: #2e7d32;
}

/* Status bar styling */
.status {
    background: #f5f5f5;
    border: 1px solid #e0e0e0;
    border-radius: 8px;
    padding: 12px 16px;
    margin: 15px 0;
    color: #555;
}

/* ===== Responsive fixes for visualizations ===== */

.panel {
    overflow-x: auto;
}

.panel svg {
    min-width: 100%;
}
