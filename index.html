<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Algorithm Visualizations</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Tahoma, sans-serif; display: flex; height: 100vh; background: #f8f9fa; }
        
        /* Sidebar */
        .sidebar {
            width: 320px;
            background: #ffffff;
            display: flex;
            flex-direction: column;
            border-right: 1px solid #e0e0e0;
            box-shadow: 2px 0 5px rgba(0,0,0,0.05);
        }
        .header {
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        .header h1 { font-size: 1.3em; margin-bottom: 5px; }
        .header p { font-size: 0.85em; opacity: 0.9; }
        
        /* Search */
        .search-box {
            padding: 15px;
            border-bottom: 1px solid #e0e0e0;
            background: #fafafa;
        }
        .search-box input {
            width: 100%;
            padding: 10px 15px;
            border: 1px solid #ddd;
            border-radius: 20px;
            background: #fff;
            color: #333;
            font-size: 14px;
        }
        .search-box input::placeholder { color: #999; }
        .search-box input:focus { outline: none; border-color: #667eea; box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1); }
        
        /* List */
        .list-container {
            flex: 1;
            overflow-y: auto;
            padding: 10px;
            background: #fff;
        }
        .list-container::-webkit-scrollbar { width: 8px; }
        .list-container::-webkit-scrollbar-track { background: #f1f1f1; }
        .list-container::-webkit-scrollbar-thumb { background: #ccc; border-radius: 4px; }
        .list-container::-webkit-scrollbar-thumb:hover { background: #aaa; }
        
        .question-group {
            margin-bottom: 5px;
        }
        .question-title {
            padding: 10px 15px;
            background: #f5f7fa;
            color: #444;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            font-size: 0.9em;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border: 1px solid #eee;
        }
        .question-title:hover { background: #eef1f6; border-color: #ddd; }
        .question-title .badge {
            background: #667eea;
            color: white;
            padding: 2px 8px;
            border-radius: 10px;
            font-size: 0.75em;
        }
        
        .solutions {
            display: none;
            padding: 5px 0 5px 15px;
        }
        .solutions.open { display: block; }
        
        .solution-link {
            display: block;
            padding: 8px 15px;
            color: #666;
            text-decoration: none;
            font-size: 0.85em;
            border-radius: 6px;
            margin: 2px 0;
            transition: all 0.2s;
        }
        .solution-link:hover {
            background: #f0f4ff;
            color: #444;
        }
        .solution-link.active {
            background: #667eea;
            color: white;
        }
        
        /* Main content */
        .main {
            flex: 1;
            display: flex;
            flex-direction: column;
            background: #f5f5f5;
        }
        .main iframe {
            flex: 1;
            border: none;
            background: white;
        }
        .welcome {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: #888;
            background: #fff;
        }
        .welcome h2 { font-size: 2em; margin-bottom: 10px; color: #444; }
        .welcome p { font-size: 1.1em; }
        
        /* Stats bar */
        .stats {
            padding: 10px 20px;
            background: #f8f9fa;
            color: #666;
            font-size: 0.85em;
            border-top: 1px solid #e0e0e0;
        }
    </style>
</head>
<body>
    <div class="sidebar">
        <div class="header">
            <h1>ðŸ“š Algorithm Visualizations</h1>
            <p>Interactive LeetCode Solutions</p>
        </div>
        <div class="search-box">
            <input type="text" id="search" placeholder="ðŸ” Search problems..." autocomplete="off">
        </div>
        <div class="list-container" id="list"></div>
        <div class="stats" id="stats"></div>
    </div>
    <div class="main">
        <div class="welcome" id="welcome">
            <h2>ðŸ‘ˆ Select a problem</h2>
            <p>Choose from 154 visualizations</p>
        </div>
        <iframe id="viewer" style="display:none;"></iframe>
    </div>

    <script>
        const files = [
            "1-valid-palindrome-v1-list.html",
            "1-valid-palindrome-v2-deque.html",
            "1-valid-palindrome-v3-slicing.html",
            "2-reverse-string-v1-two-pointers.html",
            "2-reverse-string-v2-pythonic.html",
            "3-reorder-log-files-v1-lambda-sort.html",
            "4-most-common-word-v1-counter.html",
            "5-group-anagrams-v1-sorted-key.html",
            "6-longest-palindromic-substring-v1-expand.html",
            "7-two-sum-v1-brute-force.html",
            "7-two-sum-v2-in-list.html",
            "7-two-sum-v3-two-pass-hash.html",
            "7-two-sum-v4-hash-one-pass.html",
            "7-two-sum-v5-two-pointer.html",
            "8-trapping-rain-water-v1-two-pointers.html",
            "8-trapping-rain-water-v2-stack.html",
            "9-3sum-v1-brute-force.html",
            "9-3sum-v2-two-pointers.html",
            "10-array-partition-v1-pair-iteration.html",
            "10-array-partition-v2-pythonic-slicing.html",
            "10-array-partition-v3-sum-slicing.html",
            "11-product-except-self-v1-two-pass.html",
            "12-best-time-to-buy-sell-v1-brute-force.html",
            "12-best-time-to-buy-sell-v2-one-pass.html",
            "13-palindrome-linked-list-v1-list.html",
            "13-palindrome-linked-list-v2-deque.html",
            "13-palindrome-linked-list-v3-runner.html",
            "14-merge-two-sorted-lists-v1-recursive.html",
            "15-reverse-linked-list-v1-recursive.html",
            "15-reverse-linked-list-v2-iterative.html",
            "16-add-two-numbers-v1-full-adder.html",
            "16-add-two-numbers-v2-reverse-convert.html",
            "17-swap-nodes-in-pairs-v1-value-swap.html",
            "17-swap-nodes-in-pairs-v2-node-swap.html",
            "17-swap-nodes-in-pairs-v3-recursive.html",
            "18-odd-even-linked-list-v1.html",
            "19-reverse-linked-list-ii-v1.html",
            "20-valid-parentheses-v1.html",
            "21-remove-duplicate-letters-v1-recursive.html",
            "21-remove-duplicate-letters-v2-stack.html",
            "22-daily-temperatures-v1.html",
            "23-implement-stack-using-queues-v1.html",
            "24-implement-queue-using-stacks-v1.html",
            "25-design-circular-queue-v1.html",
            "26-design-circular-deque-v1.html",
            "27-merge-k-sorted-lists-v1-heap.html",
            "28-design-hashmap-v1.html",
            "29-jewels-and-stones-v1-counter.html",
            "29-jewels-and-stones-v2-pythonic.html",
            "29-jewels-and-stones-v3-counter-lookup.html",
            "29-jewels-and-stones-v4-sum-comprehension.html",
            "30-longest-substring-without-repeating-v1.html",
            "31-top-k-frequent-elements-v1-heap.html",
            "31-top-k-frequent-elements-v2-pythonic.html",
            "32-number-of-islands-v1.html",
            "33-letter-combinations-v1.html",
            "34-permutations-v1-dfs.html",
            "34-permutations-v2-itertools.html",
            "35-combinations-v1-dfs.html",
            "35-combinations-v2-itertools.html",
            "36-combination-sum-v1.html",
            "37-subsets-v1.html",
            "38-reconstruct-itinerary-v1-pop0.html",
            "38-reconstruct-itinerary-v2-pop.html",
            "38-reconstruct-itinerary-v3-iterative.html",
            "39-course-schedule-v1-basic.html",
            "39-course-schedule-v2-optimized.html",
            "40-network-delay-time-v1.html",
            "41-cheapest-flights-v1.html",
            "42-maximum-depth-v1.html",
            "43-diameter-of-binary-tree-v1.html",
            "44-longest-univalue-path-v1.html",
            "45-invert-binary-tree-v1-recursive.html",
            "45-invert-binary-tree-v2-bfs.html",
            "45-invert-binary-tree-v3-dfs-preorder.html",
            "45-invert-binary-tree-v3-dfs-stack.html",
            "45-invert-binary-tree-v4-dfs-postorder.html",
            "46-merge-two-binary-trees-v1.html",
            "47-serialize-deserialize-v1.html",
            "48-balanced-binary-tree-v1.html",
            "49-minimum-height-trees-v1.html",
            "50-sorted-array-to-bst-v1.html",
            "51-bst-to-gst-v1.html",
            "52-range-sum-bst-v1-brute-force.html",
            "52-range-sum-bst-v2-pruning.html",
            "52-range-sum-bst-v3-dfs-stack.html",
            "52-range-sum-bst-v4-bfs-queue.html",
            "53-min-distance-bst-v1-recursive.html",
            "53-min-distance-bst-v2-iterative.html",
            "54-construct-tree-v1.html",
            "55-kth-largest-v1-max-heap.html",
            "55-kth-largest-v2-heapify.html",
            "55-kth-largest-v3-nlargest.html",
            "55-kth-largest-v4-sort.html",
            "56-implement-trie-v1.html",
            "57-palindrome-pairs-v1-brute-force.html",
            "57-palindrome-pairs-v2-trie.html",
            "58-sort-list-v1-merge-sort.html",
            "58-sort-list-v2-builtin-sort.html",
            "59-merge-intervals-v1.html",
            "60-insertion-sort-list-v1.html",
            "60-insertion-sort-list-v2-optimized.html",
            "61-largest-number-v1.html",
            "62-valid-anagram-v1.html",
            "63-sort-colors-v1.html",
            "64-k-closest-points-v1.html",
            "65-binary-search-v1-recursive.html",
            "65-binary-search-v2-iterative.html",
            "65-binary-search-v3-bisect.html",
            "65-binary-search-v4-index.html",
            "66-search-rotated-array-v1.html",
            "67-intersection-v1-brute-force.html",
            "67-intersection-v2-two-pointers.html",
            "67-intersection-v3-two-pointers-set.html",
            "68-two-sum-ii-v1-two-pointers.html",
            "68-two-sum-ii-v2-binary-search.html",
            "68-two-sum-ii-v3-bisect-slice.html",
            "68-two-sum-ii-v4-bisect-variable.html",
            "68-two-sum-ii-v5-bisect-lo.html",
            "69-search-2d-matrix-v1-staircase.html",
            "69-search-2d-matrix-v2-any.html",
            "70-single-number-v1-xor.html",
            "71-hamming-distance-v1-xor.html",
            "72-sum-two-integers-v1-bit.html",
            "72-sum-two-integers-v2-masked.html",
            "73-utf8-validation-v1.html",
            "74-number-of-1-bits-v1-kernighan.html",
            "74-number-of-1-bits-v2-kernighan.html",
            "75-sliding-window-max-v1-deque.html",
            "75-sliding-window-max-v2-optimized.html",
            "76-min-window-substring-v1-two-pointers.html",
            "76-min-window-substring-v2-missing-counter.html",
            "76-min-window-substring-v3-counter-and.html",
            "77-longest-repeating-char-v1.html",
            "78-stock-ii-v1-greedy.html",
            "78-stock-ii-v2-pythonic.html",
            "79-queue-reconstruction-v1-greedy.html",
            "80-task-scheduler-v1-greedy.html",
            "81-gas-station-v1-single-pass.html",
            "81-gas-station-v2-greedy.html",
            "82-assign-cookies-v1-greedy.html",
            "82-assign-cookies-v2-bisect.html",
            "83-majority-element-v1-divide-conquer.html",
            "83-majority-element-v2-defaultdict.html",
            "83-majority-element-v3-recursive.html",
            "83-majority-element-v4-sorted.html",
            "84-different-ways-v1-divide-conquer.html",
            "85-fibonacci-v1-all-approaches.html",
            "86-max-subarray-v1-kadane.html",
            "86-max-subarray-v2-kadane.html",
            "87-climbing-stairs-v1-dp.html",
            "87-climbing-stairs-v2-memoization.html",
            "88-house-robber-v1-dp.html",
            "88-house-robber-v2-ordereddict.html"
        ];

        // Group by question number
        const groups = {};
        files.forEach(f => {
            const match = f.match(/^(\d+)-(.+?)-v\d+/);
            if (match) {
                const num = match[1];
                const name = match[2].replace(/-/g, ' ');
                if (!groups[num]) {
                    groups[num] = { name, files: [] };
                }
                groups[num].files.push(f);
            }
        });

        // Render list
        function renderList(filter = '') {
            const listEl = document.getElementById('list');
            listEl.innerHTML = '';
            const filterLower = filter.toLowerCase();
            let visibleCount = 0;
            
            Object.keys(groups).sort((a, b) => parseInt(a) - parseInt(b)).forEach(num => {
                const g = groups[num];
                const matchesFilter = !filter || 
                    g.name.toLowerCase().includes(filterLower) ||
                    num.includes(filter) ||
                    g.files.some(f => f.toLowerCase().includes(filterLower));
                
                if (!matchesFilter) return;
                
                const groupEl = document.createElement('div');
                groupEl.className = 'question-group';
                
                const titleEl = document.createElement('div');
                titleEl.className = 'question-title';
                titleEl.innerHTML = `Q${num}: ${g.name} <span class="badge">${g.files.length}</span>`;
                titleEl.onclick = () => {
                    const sols = groupEl.querySelector('.solutions');
                    sols.classList.toggle('open');
                };
                
                const solsEl = document.createElement('div');
                solsEl.className = 'solutions open';
                
                g.files.forEach(f => {
                    const link = document.createElement('a');
                    link.className = 'solution-link';
                    link.href = '#';
                    const vMatch = f.match(/-v(\d+)-(.+)\.html$/);
                    link.textContent = vMatch ? `v${vMatch[1]}: ${vMatch[2].replace(/-/g, ' ')}` : f;
                    link.onclick = (e) => {
                        e.preventDefault();
                        loadVisualization(f);
                        document.querySelectorAll('.solution-link').forEach(l => l.classList.remove('active'));
                        link.classList.add('active');
                    };
                    solsEl.appendChild(link);
                    visibleCount++;
                });
                
                groupEl.appendChild(titleEl);
                groupEl.appendChild(solsEl);
                listEl.appendChild(groupEl);
            });
            
            document.getElementById('stats').textContent = `${visibleCount} visualizations in ${Object.keys(groups).length} problems`;
        }

        function loadVisualization(file) {
            document.getElementById('welcome').style.display = 'none';
            const iframe = document.getElementById('viewer');
            iframe.style.display = 'block';
            iframe.src = 'visual/' + file;
        }

        // Search
        document.getElementById('search').addEventListener('input', (e) => {
            renderList(e.target.value);
        });

        // Keyboard shortcuts
        document.addEventListener('keydown', (e) => {
            if (e.key === '/' && document.activeElement.tagName !== 'INPUT') {
                e.preventDefault();
                document.getElementById('search').focus();
            }
            if (e.key === 'Escape') {
                document.getElementById('search').value = '';
                document.getElementById('search').blur();
                renderList();
            }
        });

        renderList();
    </script>
</body>
</html>
